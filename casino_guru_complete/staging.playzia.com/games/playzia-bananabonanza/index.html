<!DOCTYPE html>

<html lang="en">

    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>

        <!-- mobile meta tags -->
        <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="apple-touch-fullscreen" content="yes"/>
        <meta name="msapplication-tap-highlight" content="no"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <meta name="mobile-web-app-capable" content="yes">

        <!-- –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã, —Ç–∞–∫ –∫–∞–∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ - –∑–∞–≥–ª—É—à–∫–∏ -->
        <style>
            /* –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã, –ø–æ—Ö–æ–∂–∏–µ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ */
            @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&family=Oswald:wght@400;700&family=Montserrat:wght@400;700;900&display=swap');
        </style>
        
        <!-- styles -->
        <link rel="stylesheet" href="./assets/html/global.css?v=1.0.0">
        <link rel="stylesheet" href="./assets/html/vex/vex.css?v=1.0.0"/>
        <link rel="stylesheet" href="./assets/html/vex/vex-theme-plain.css?v=1.0.0"/>

        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="theme-color" content="#ffffff">

        <!-- CSS –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à—Ä–∏—Ñ—Ç–∞ –∏ –∏–∫–æ–Ω–æ–∫ -->
        <style>
            /* –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã */
            @font-face {
                font-family: 'Impact';
                src: url('assets/html/fonts/Impact.woff2') format('woff2');
                font-weight: normal;
                font-style: normal;
            }
            
            @font-face {
                font-family: 'Roboto-Bold';
                src: url('assets/html/fonts/Roboto-Bold.woff2') format('woff2');
                font-weight: bold;
                font-style: normal;
            }
            
            @font-face {
                font-family: 'Arial Rounded MT Regular';
                src: url('assets/html/fonts/Arial Rounded MT Regular.woff') format('woff');
                font-weight: normal;
                font-style: normal;
            }
            
            @font-face {
                font-family: 'Myriad Pro Bold Condensed';
                src: url('assets/html/fonts/Myriad Pro Bold Condensed.woff') format('woff');
                font-weight: bold;
                font-style: normal;
            }
            
            @font-face {
                font-family: 'rockwell-regular';
                src: url('assets/html/fonts/rockwell-regular.woff2') format('woff2');
                font-weight: normal;
                font-style: normal;
            }
            
            @font-face {
                font-family: 'LEMONMILK-Bold';
                src: url('assets/html/fonts/LEMONMILK-Bold.woff2') format('woff2');
                font-weight: bold;
                font-style: normal;
            }
            
            /* –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤ */
            .font-preload {
                font-family: 'Impact', 'Roboto-Bold', 'Arial Rounded MT Regular', 'Myriad Pro Bold Condensed', 'rockwell-regular', 'LEMONMILK-Bold';
                position: absolute;
                left: -9999px;
                visibility: hidden;
            }
            /* –ü—Ä–∏–º–µ–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã –∏–≥—Ä—ã —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ */
            
            /* –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç –±–µ–∑ –∑–∞—Å–µ—á–µ–∫ */
            body, p, div, span, .text, .content, #settings_page_rules {
                font-family: 'Arial', 'Helvetica', sans-serif !important;
                font-weight: normal !important;
            }
            
            /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –∫—Ä—É–ø–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã - —Ç–æ–ª—Å—Ç—ã–π —à—Ä–∏—Ñ—Ç */
            h1, h2, h3, h4, h5, h6, .heading, .title, #settings_page_rules strong {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: bold !important;
            }
            
            /* –û—á–µ–Ω—å —Ç–æ–ª—Å—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–∞–∫ –º–Ω–æ–∂–∏—Ç–µ–ª—å –∏ –∫–Ω–æ–ø–∫–∞ BET */
            .multiplier, .bet-button, .large-text {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: 900 !important;
                font-stretch: condensed !important;
            }
            
            /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Myriad Pro */
            .prize, #basicGameInfo, #coinFeatureHeading, #gameRoundInfoDivHeading {
                font-family: 'Myriad Pro Bold Condensed', Arial, sans-serif !important;
                font-weight: bold !important;
            }
            
            /* –í–µ—Ä—Å–∏—è –∏–≥—Ä—ã - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç */
            .version-text {
                font-family: 'Arial', 'Helvetica', sans-serif !important;
                font-weight: normal !important;
            }
            
            /* –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–≥—Ä—ã */
            
            /* –ú–Ω–æ–∂–∏—Ç–µ–ª—å –≤ —Ü–µ–Ω—Ç—Ä–µ —ç–∫—Ä–∞–Ω–∞ - –æ—á–µ–Ω—å —Ç–æ–ª—Å—Ç—ã–π —à—Ä–∏—Ñ—Ç */
            .multiplier-display, .crash-multiplier, .current-multiplier {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: 900 !important;
                font-stretch: condensed !important;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.5) !important;
            }
            
            /* –ö–Ω–æ–ø–∫–∞ BET - –æ—á–µ–Ω—å —Ç–æ–ª—Å—Ç—ã–π —à—Ä–∏—Ñ—Ç */
            .bet-btn, .bet-button, [class*="bet_btn"] {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: 900 !important;
                font-stretch: condensed !important;
            }
            
            /* –ö–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç */
            .bet-amount-btn, .bet-value-btn, [class*="bet_button"] {
                font-family: 'Arial', 'Helvetica', sans-serif !important;
                font-weight: normal !important;
            }
            
            /* –¢–∞–π–º–µ—Ä - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç */
            .timer, .countdown, [class*="timer"] {
                font-family: 'Arial', 'Helvetica', sans-serif !important;
                font-weight: normal !important;
            }
            
            /* –ú–Ω–æ–∂–∏—Ç–µ–ª–∏ –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏ - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç */
            .multiplier-btn, .multiplier-button, [class*="multiplier"] {
                font-family: 'Arial', 'Helvetica', sans-serif !important;
                font-weight: normal !important;
            }
            
            /* –ü–æ–ª—è –≤–≤–æ–¥–∞ - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç */
            input, .input-field, [class*="input"] {
                font-family: 'Arial', 'Helvetica', sans-serif !important;
                font-weight: normal !important;
            }
            
            /* –¢–µ–∫—Å—Ç "AUTO CASH" - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à—Ä–∏—Ñ—Ç */
            .auto-cash, .autocash, [class*="auto"] {
                font-family: 'Arial', 'Helvetica', sans-serif !important;
                font-weight: normal !important;
            }
            
            /* –ë–∞–ª–∞–Ω—Å –∏ BET VALUE - —Ç–æ–ª—Å—Ç—ã–π —à—Ä–∏—Ñ—Ç */
            .balance, .bet-value, [class*="balance"], [class*="bet_value"] {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: bold !important;
            }
            
            /* –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ */
            
            /* –ö–Ω–æ–ø–∫–∞ BET - –æ—á–µ–Ω—å —Ç–æ–ª—Å—Ç—ã–π —à—Ä–∏—Ñ—Ç –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ */
            .bet-btn, .bet-button, [class*="bet_btn"], button[class*="bet"] {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: 900 !important;
                font-stretch: condensed !important;
                text-shadow: 1px 1px 2px rgba(0,0,0,0.3) !important;
            }
            
            /* AUTO CASH - —Ç–æ–ª—Å—Ç—ã–π —à—Ä–∏—Ñ—Ç */
            .auto-cash, .autocash, [class*="auto"], [class*="Auto"] {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: bold !important;
                text-transform: uppercase !important;
            }
            
            /* BET VALUE –∏ BALANCE - –æ—á–µ–Ω—å —Ç–æ–ª—Å—Ç—ã–π —à—Ä–∏—Ñ—Ç */
            .bet-value, .balance, [class*="bet_value"], [class*="balance"] {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: 900 !important;
                font-stretch: condensed !important;
                text-transform: uppercase !important;
            }
            
            /* –ó–Ω–∞—á–µ–Ω–∏—è –º–Ω–æ–∂–∏—Ç–µ–ª–µ–π (1.11X) - —Ç–æ–ª—Å—Ç—ã–π —à—Ä–∏—Ñ—Ç */
            .multiplier-value, .auto-multiplier, [class*="multiplier"], input[value*="X"] {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: bold !important;
            }
            
            /* –ó–Ω–∞—á–µ–Ω–∏—è —Å—Ç–∞–≤–æ–∫ (1.00, 0.20) - —Ç–æ–ª—Å—Ç—ã–π —à—Ä–∏—Ñ—Ç */
            .bet-amount, .bet-value-display, [class*="bet_amount"], input[type="text"] {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: bold !important;
            }
            
            /* –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä—ã—Ö —Å—Ç–∞–≤–æ–∫ (100.00, 150.00) - —Ç–æ–ª—Å—Ç—ã–π —à—Ä–∏—Ñ—Ç */
            .quick-bet, .bet-amount-btn, [class*="bet_button"] {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: bold !important;
            }
            
            /* –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ */
            
            /* –í—Å–µ –∫–Ω–æ–ø–∫–∏ —Å —Ç–µ–∫—Å—Ç–æ–º BET */
            button:contains("BET"), [class*="bet"]:contains("BET"), div:contains("BET") {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: 900 !important;
                font-stretch: condensed !important;
            }
            
            /* –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–º AUTO CASH */
            [class*="auto"]:contains("CASH"), [class*="Auto"]:contains("CASH"), div:contains("AUTO CASH") {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: bold !important;
                text-transform: uppercase !important;
            }
            
            /* –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–º BET VALUE */
            [class*="bet_value"], [class*="BetValue"], div:contains("BET VALUE") {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: 900 !important;
                font-stretch: condensed !important;
                text-transform: uppercase !important;
            }
            
            /* –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–º BALANCE */
            [class*="balance"], [class*="Balance"], div:contains("BALANCE") {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: 900 !important;
                font-stretch: condensed !important;
                text-transform: uppercase !important;
            }
            
            /* –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å –º–Ω–æ–∂–∏—Ç–µ–ª—è–º–∏ (X) */
            [class*="multiplier"], input[value*="X"], div:contains("X") {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: bold !important;
            }
            
            /* –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å —á–∏—Å–ª–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —Å—Ç–∞–≤–æ–∫ */
            [class*="amount"], [class*="value"], input[type="text"], div:contains("‚Ç¨") {
                font-family: 'Impact', 'Arial Black', Arial, sans-serif !important;
                font-weight: bold !important;
            }
            
            /* –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∫–æ–Ω–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ */
            #settings_icon_holder {
                height: inherit !important;
                display: flex !important;
                align-items: center !important;
                width: 100% !important;
                position: absolute !important;
                color: #fff !important;
                z-index: 1 !important;
                margin-left: 14% !important;
            }
            
            #settings_icon_holder .icon {
                background: transparent !important;
                width: 30.33% !important;
            }
            
            #settings_icon_holder .icon_new {
                background: transparent !important;
                width: 33.33% !important;
            }
            
            #button_rules_menu, #button_settings_menu {
                width: 60px !important;
                height: 60px !important;
                background-size: 170px 60px !important;
                background-position: 2px 0 !important;
                position: relative !important;
                z-index: -1 !important;
                cursor: pointer !important;
                background-repeat: no-repeat !important;
                display: block !important;
            }
            
            #button_rules_menu {
                background-image: url('assets/html/images/settings/Rules_Btn.webp') !important;
            }
            
            #button_settings_menu {
                background-image: url('assets/html/images/settings/Setting_Btn.webp') !important;
            }
            
            .rules_lbl, .lang\:settings_rules_desk {
                display: block !important;
                font-size: 18px !important;
                color: #fff !important;
                text-align: center !important;
                margin-top: 5px !important;
                font-weight: 700 !important;
            }
            
            .lang\:settings_general_desk {
                display: block !important;
                font-size: 18px !important;
                color: #fff !important;
                text-align: center !important;
                margin-top: 5px !important;
                font-weight: 700 !important;
            }
        </style>
        
        <!-- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤ -->
        <div class="font-preload" style="position: absolute; left: -9999px; visibility: hidden;">Impact Roboto-Bold Arial Rounded MT Regular Myriad Pro Bold Condensed rockwell-regular LEMONMILK-Bold</div>
        
        <!-- JavaScript –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —à—Ä–∏—Ñ—Ç–æ–≤ -->
        <script>
            function applyOriginalFonts() {
                console.log('üé® –ü—Ä–∏–º–µ–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã...');
                
                // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —à—Ä–∏—Ñ—Ç–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç—É
                function applyFont(element, fontFamily, fontWeight = 'bold') {
                    if (element) {
                        element.style.fontFamily = fontFamily + ' !important';
                        element.style.fontWeight = fontWeight + ' !important';
                        element.style.fontStretch = 'condensed !important';
                    }
                }
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —à—Ä–∏—Ñ—Ç—ã –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å —Ç–µ–∫—Å—Ç–æ–º BET
                document.querySelectorAll('*').forEach(el => {
                    if (el.textContent && el.textContent.includes('BET')) {
                        applyFont(el, 'Impact, Arial Black, Arial', '900');
                    }
                });
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —à—Ä–∏—Ñ—Ç—ã –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å —Ç–µ–∫—Å—Ç–æ–º AUTO CASH
                document.querySelectorAll('*').forEach(el => {
                    if (el.textContent && el.textContent.includes('AUTO CASH')) {
                        applyFont(el, 'Impact, Arial Black, Arial', 'bold');
                    }
                });
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —à—Ä–∏—Ñ—Ç—ã –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å —Ç–µ–∫—Å—Ç–æ–º BET VALUE
                document.querySelectorAll('*').forEach(el => {
                    if (el.textContent && el.textContent.includes('BET VALUE')) {
                        applyFont(el, 'Impact, Arial Black, Arial', '900');
                    }
                });
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —à—Ä–∏—Ñ—Ç—ã –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å —Ç–µ–∫—Å—Ç–æ–º BALANCE
                document.querySelectorAll('*').forEach(el => {
                    if (el.textContent && el.textContent.includes('BALANCE')) {
                        applyFont(el, 'Impact, Arial Black, Arial', '900');
                    }
                });
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —à—Ä–∏—Ñ—Ç—ã –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å –º–Ω–æ–∂–∏—Ç–µ–ª—è–º–∏ (X)
                document.querySelectorAll('*').forEach(el => {
                    if (el.textContent && el.textContent.includes('X') && el.textContent.match(/\d+\.\d+X/)) {
                        applyFont(el, 'Impact, Arial Black, Arial', 'bold');
                    }
                });
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —à—Ä–∏—Ñ—Ç—ã –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å —á–∏—Å–ª–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
                document.querySelectorAll('*').forEach(el => {
                    if (el.textContent && el.textContent.match(/\d+\.\d+/)) {
                        applyFont(el, 'Impact, Arial Black, Arial', 'bold');
                    }
                });
                
                console.log('‚úÖ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã');
            }
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —à—Ä–∏—Ñ—Ç—ã —Å—Ä–∞–∑—É –∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
            setTimeout(applyOriginalFonts, 1000);
            setTimeout(applyOriginalFonts, 3000);
            setTimeout(applyOriginalFonts, 5000);
            
            // –ü—Ä–∏–º–µ–Ω—è–µ–º —à—Ä–∏—Ñ—Ç—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ DOM
            const observer = new MutationObserver(applyOriginalFonts);
            observer.observe(document.body, { childList: true, subtree: true });
        </script>
        
        <!-- –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–´–ô CSS –ë–õ–û–ö–ï–† -->
        <style>
            /* –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–´–ô CSS –ë–õ–û–ö–ï–† */
            .force-blocked {
                pointer-events: none !important;
                opacity: 0.5 !important;
                cursor: not-allowed !important;
                filter: grayscale(100%) !important;
            }
            
            .force-blocked * {
                pointer-events: none !important;
            }
            
            /* –ë–ª–æ–∫–µ—Ä –¥–ª—è canvas */
            .force-blocked-canvas {
                pointer-events: none !important;
                opacity: 0.5 !important;
                filter: grayscale(100%) !important;
            }
            
            /* –ë–ª–æ–∫–µ—Ä –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
            .force-blocked button,
            .force-blocked [role="button"],
            .force-blocked .button,
            .force-blocked .btn,
            .force-blocked [data-button],
            .force-blocked [onclick],
            .force-blocked .interactive {
                pointer-events: none !important;
                opacity: 0.5 !important;
                cursor: not-allowed !important;
                filter: grayscale(100%) !important;
            }
        </style>

    </head>

    <body onload="loadGame()">
        <script>
            // –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–´–ô –ë–õ–û–ö–ï–† –ö–ù–û–ü–û–ö
            window.__forceButtonBlocker = {
                isBlocked: false,
                blockedButtons: new Set(),
                
                blockAll: function() {
                    console.log('üîí –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê –í–°–ï–• –ö–ù–û–ü–û–ö!');
                    this.isBlocked = true;
                    
                    // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –±–ª–æ–∫–µ—Ä —Å–æ–±—ã—Ç–∏–π
                    window.startAggressiveBlocker();
                    
                    // –ë–ª–æ–∫–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ CSS –∫–ª–∞—Å—Å—ã - —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±
                    document.body.classList.add('force-blocked');
                    
                    // –ë–ª–æ–∫–∏—Ä—É–µ–º canvas –µ—Å–ª–∏ –µ—Å—Ç—å
                    const canvas = document.querySelector('canvas');
                    if (canvas) {
                        canvas.classList.add('force-blocked-canvas');
                        console.log('üîí Canvas –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ CSS');
                    }
                    
                    // –ë–ª–æ–∫–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ DOM
                    const buttonSelectors = [
                        'button', '[role="button"]', '.button', '.btn',
                        '[data-button]', '[onclick]', '.interactive'
                    ];
                    
                    buttonSelectors.forEach(selector => {
                        document.querySelectorAll(selector).forEach(btn => {
                            btn.classList.add('force-blocked');
                            this.blockedButtons.add(btn);
                        });
                    });
                    
                    // –ë–ª–æ–∫–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ PIXI –æ–±—ä–µ–∫—Ç—ã
                    if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                        const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                        if (sceneInstance) {
                            const buttonNames = [
                                'first_bet_button', 'second_bet_button', 'third_bet_button', 'fourth_bet_button',
                                'first_bet_button_2', 'second_bet_button_2', 'third_bet_button_2', 'fourth_bet_button_2',
                                'plus_button', 'minus_button', 'plus_button_2', 'minus_button_2',
                                'bet_plus_btn', 'bet_minus_btn', 'bet_plus_btn_2', 'bet_minus_btn_2',
                                'autoCashOutToggle1', 'autoCashOutToggle2',
                                'bet_btn_first', 'bet_btn_second'
                            ];
                            
                            buttonNames.forEach(buttonName => {
                                if (sceneInstance[buttonName]) {
                                    sceneInstance[buttonName].interactive = false;
                                    sceneInstance[buttonName].alpha = 0.5;
                                    sceneInstance[buttonName].buttonMode = false;
                                    if (sceneInstance[buttonName].updateButtonState) {
                                        sceneInstance[buttonName].updateButtonState(false);
                                    }
                                    console.log(`üîí –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ ${buttonName}`);
                                }
                            });
                        }
                    }
                },
                
                unblockAll: function() {
                    console.log('üîì –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–ê–Ø –†–ê–ó–ë–õ–û–ö–ò–†–û–í–ö–ê –í–°–ï–• –ö–ù–û–ü–û–ö!');
                    this.isBlocked = false;
                    
                    // –û—Ç–∫–ª—é—á–∞–µ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –±–ª–æ–∫–µ—Ä —Å–æ–±—ã—Ç–∏–π
                    window.stopAggressiveBlocker();
                    
                    // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ CSS –∫–ª–∞—Å—Å—ã
                    document.body.classList.remove('force-blocked');
                    
                    // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º canvas
                    const canvas = document.querySelector('canvas');
                    if (canvas) {
                        canvas.classList.remove('force-blocked-canvas');
                        console.log('üîì Canvas —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ CSS');
                    }
                    
                    // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º DOM –∫–Ω–æ–ø–∫–∏
                    this.blockedButtons.forEach(btn => {
                        btn.classList.remove('force-blocked');
                    });
                    this.blockedButtons.clear();
                    
                    // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º PIXI –æ–±—ä–µ–∫—Ç—ã
                    if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                        const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                        if (sceneInstance) {
                            const buttonNames = [
                                'first_bet_button', 'second_bet_button', 'third_bet_button', 'fourth_bet_button',
                                'first_bet_button_2', 'second_bet_button_2', 'third_bet_button_2', 'fourth_bet_button_2',
                                'plus_button', 'minus_button', 'plus_button_2', 'minus_button_2',
                                'bet_plus_btn', 'bet_minus_btn', 'bet_plus_btn_2', 'bet_minus_btn_2',
                                'autoCashOutToggle1', 'autoCashOutToggle2',
                                'bet_btn_first', 'bet_btn_second'
                            ];
                            
                            buttonNames.forEach(buttonName => {
                                if (sceneInstance[buttonName]) {
                                    sceneInstance[buttonName].interactive = true;
                                    sceneInstance[buttonName].alpha = 1.0;
                                    sceneInstance[buttonName].buttonMode = true;
                                    if (sceneInstance[buttonName].updateButtonState) {
                                        sceneInstance[buttonName].updateButtonState(true);
                                    }
                                    console.log(`üîì –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ ${buttonName}`);
                                }
                            });
                        }
                    }
                }
            };
            
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
            window.forceBlockButtons = () => window.__forceButtonBlocker.blockAll();
            window.forceUnblockButtons = () => window.__forceButtonBlocker.unblockAll();
            
            // –ê–ì–†–ï–°–°–ò–í–ù–´–ô –ë–õ–û–ö–ï–† –°–û–ë–´–¢–ò–ô
            window.__aggressiveBlocker = {
                isActive: false,
                originalAddEventListener: null,
                
                start: function() {
                    if (this.isActive) return;
                    console.log('üö´ –ê–ì–†–ï–°–°–ò–í–ù–´–ô –ë–õ–û–ö–ï–† –°–û–ë–´–¢–ò–ô –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!');
                    this.isActive = true;
                    
                    // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –º—ã—à–∏
                    document.addEventListener('click', this.blockEvent, true);
                    document.addEventListener('mousedown', this.blockEvent, true);
                    document.addEventListener('mouseup', this.blockEvent, true);
                    document.addEventListener('pointerdown', this.blockEvent, true);
                    document.addEventListener('pointerup', this.blockEvent, true);
                    document.addEventListener('touchstart', this.blockEvent, true);
                    document.addEventListener('touchend', this.blockEvent, true);
                },
                
                stop: function() {
                    if (!this.isActive) return;
                    console.log('‚úÖ –ê–ì–†–ï–°–°–ò–í–ù–´–ô –ë–õ–û–ö–ï–† –°–û–ë–´–¢–ò–ô –û–¢–ö–õ–Æ–ß–ï–ù!');
                    this.isActive = false;
                    
                    document.removeEventListener('click', this.blockEvent, true);
                    document.removeEventListener('mousedown', this.blockEvent, true);
                    document.removeEventListener('mouseup', this.blockEvent, true);
                    document.removeEventListener('pointerdown', this.blockEvent, true);
                    document.removeEventListener('pointerup', this.blockEvent, true);
                    document.removeEventListener('touchstart', this.blockEvent, true);
                    document.removeEventListener('touchend', this.blockEvent, true);
                },
                
                blockEvent: function(event) {
                    console.log('üö´ –°–û–ë–´–¢–ò–ï –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û:', event.type, event.target);
                    event.preventDefault();
                    event.stopPropagation();
                    event.stopImmediatePropagation();
                    return false;
                }
            };
            
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ –±–ª–æ–∫–µ—Ä–∞
            window.startAggressiveBlocker = () => window.__aggressiveBlocker.start();
            window.stopAggressiveBlocker = () => window.__aggressiveBlocker.stop();
            
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ª–æ–≥–≥–µ—Ä –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
            window.__gameStateLogger = {
                logState: function() {
                    console.log('üîç === –°–û–°–¢–û–Ø–ù–ò–ï –ò–ì–†–´ ===');
                    if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                        const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                        if (sceneInstance) {
                            console.log('üîç –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ –≤ —Å—Ü–µ–Ω–µ:', sceneInstance.__cashoutExecuted);
                            console.log('üîç –§–ª–∞–≥ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–Ω–æ–ø–æ–∫:', sceneInstance.__betButtonsBlocked);
                        }
                    }
                    if (window.__ws && window.__ws.__roundState) {
                        console.log('üîç –§–∞–∑–∞ —Ä–∞—É–Ω–¥–∞:', window.__ws.__roundState.phase);
                        console.log('üîç –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ –≤ —Ä–∞—É–Ω–¥–µ:', window.__ws.__roundState.cashoutExecuted);
                        console.log('üîç –ú–Ω–æ–∂–∏—Ç–µ–ª—å:', window.__ws.__roundState.multiplier);
                    }
                    console.log('üîç ===================');
                },
                
                resetCashoutFlag: function() {
                    console.log('üîÑ –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–´–ô –°–ë–†–û–° –§–õ–ê–ì–ê –ö–ï–®–ê–£–¢–ê');
                    if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                        const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                        if (sceneInstance) {
                            sceneInstance.__cashoutExecuted = false;
                            console.log('‚úÖ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å–±—Ä–æ—à–µ–Ω –≤ —Å—Ü–µ–Ω–µ');
                        }
                    }
                    if (window.__ws && window.__ws.__roundState) {
                        window.__ws.__roundState.cashoutExecuted = false;
                        console.log('‚úÖ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å–±—Ä–æ—à–µ–Ω –≤ —Ä–∞—É–Ω–¥–µ');
                    }
                    this.logState();
                }
            };
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
            window.resetCashoutFlag = () => window.__gameStateLogger.resetCashoutFlag();
            window.logGameState = () => window.__gameStateLogger.logState();
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–∫–∞–∑–∞ WIN
            window.showWin = (amount = null) => {
                console.log('üí∞ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–∫–∞–∑ WIN');
                const currentMultiplier = window.__ws && window.__ws.__roundState ? window.__ws.__roundState.multiplier : 1.0;
                const winAmount = amount || (100.0 * currentMultiplier);
                console.log('üí∞ –°—É–º–º–∞ WIN:', winAmount);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º DOM —ç–ª–µ–º–µ–Ω—Ç—ã
                const winElements = ['#cp_win', '.win_amount', '.win-text', '[data-win]'];
                winElements.forEach(selector => {
                    const element = document.querySelector(selector);
                    if (element) {
                        element.textContent = `WIN ‚Ç¨${winAmount.toFixed(2)}`;
                        element.style.display = 'block';
                        element.style.visibility = 'visible';
                        console.log(`üí∞ –ü–æ–∫–∞–∑–∞–Ω WIN –≤ ${selector}:`, winAmount);
                    }
                });
                
                // –í—ã–∑—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é WIN –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞
                if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                    const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                    if (sceneInstance && sceneInstance.showWinTextAnimation) {
                        try {
                            sceneInstance.showWinTextAnimation(winAmount);
                            console.log('üí∞ –í—ã–∑–≤–∞–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è WIN:', winAmount);
                        } catch (error) {
                            console.error('üí∞ –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ showWinTextAnimation:', error);
                        }
                    }
                }
                
                // WIN –æ—Å—Ç–∞–µ—Ç—Å—è –≤–∏–¥–∏–º—ã–º –¥–æ –∫–æ–Ω—Ü–∞ —Ä–∞—É–Ω–¥–∞
                console.log('üí∞ WIN –ø–æ–∫–∞–∑–∞–Ω –∏ –æ—Å—Ç–∞–µ—Ç—Å—è –≤–∏–¥–∏–º—ã–º –¥–æ –∫–æ–Ω—Ü–∞ —Ä–∞—É–Ω–¥–∞');
            };
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è WIN
            window.hideWin = () => {
                console.log('üïê –°–∫—Ä—ã–≤–∞–µ–º WIN');
                const winElements = ['#cp_win', '.win_amount', '.win-text', '[data-win]'];
                winElements.forEach(selector => {
                    const element = document.querySelector(selector);
                    if (element) {
                        element.style.display = 'none';
                        element.style.visibility = 'hidden';
                        element.textContent = ''; // –û—á–∏—â–∞–µ–º —Ç–µ–∫—Å—Ç
                        console.log(`üïê –°–∫—Ä—ã—Ç WIN –≤ ${selector}`);
                    }
                });
            };
            // WebSocket –º–æ–∫ –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞ - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ü–ï–†–í–´–ú!
            (function () {
                console.log('üéÆ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º WebSocket –º–æ–∫ –≤ –∏–≥—Ä–µ...');
                
                const listeners = (ws) => ({
                    open: () => {
                        console.log('üîå WebSocket –º–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω');
                        ws.onopen && ws.onopen({});
                    },
                    tick() {
                        if (ws.__closed) return;
                        
                        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞—É–Ω–¥–∞ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                        if (!ws.__roundState) {
                            ws.__roundState = {
                                phase: 'waiting', // waiting, countdown, active, crash_animation, ended, open
                                roundId: 'offline_round_' + Date.now(),
                                startTime: Date.now(),
                                countdownTime: 10,
                                multiplier: 1.00,
                                maxMultiplier: 0,
                                crashAnimationTime: 0
                            };
                        }
                        
                        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –±–∞–ª–∞–Ω—Å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                        if (ws.__currentBalance === undefined) {
                            ws.__currentBalance = 100000000; // –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å 100,000,000 —Ü–µ–Ω—Ç–æ–≤ = 1,000,000.00 EUR
                            console.log('üí∞ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –±–∞–ª–∞–Ω—Å:', ws.__currentBalance);
                        }
                        
                        const now = Date.now();
                        const state = ws.__roundState;
                        
                        // –õ–æ–≥–∏–∫–∞ —Ñ–∞–∑ —Ä–∞—É–Ω–¥–∞
                        if (state.phase === 'waiting') {
                            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –æ—Ç—Å—á–µ—Ç—É
                            state.phase = 'countdown';
                            state.countdownTime = 10;
                            state.lastCountdownUpdate = now; // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–∞–π–º–µ—Ä
                            console.log('üïê –ù–∞—á–∏–Ω–∞–µ–º –æ—Ç—Å—á–µ—Ç –¥–æ –Ω–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞...');
                            
                            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –Ω–∞ idle —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                            if (window.__setAnimationPhase) {
                                window.__setAnimationPhase('idle');
                            }
                            
                            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ getready –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ UI –æ–∂–∏–¥–∞–Ω–∏—è
                            setTimeout(() => {
                                try {
                                    const getReadyEvent = {
                                        rounds: [{
                                            id: state.roundId,
                                            status: 'getready',
                                            currentMultiplier: 1.00,
                                            maxMultiplier: 0,
                                            timeToStartInSeconds: state.countdownTime
                                        }]
                                    };
                                    
                                    if (window.__gameApp) {
                                        window.__gameApp.emit('gameInProgress', getReadyEvent);
                                        window.__gameApp.emit('WAITING_START');
                                        window.__gameApp.emit('ROUND_WAITING');
                                    }
                                    
                                    console.log('üéØ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ getready –¥–ª—è UI –æ–∂–∏–¥–∞–Ω–∏—è');
                                } catch (error) {
                                    console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏—è getready:', error);
                                }
                            }, 100);
                        } else if (state.phase === 'countdown') {
                            // –û–±–Ω–æ–≤–ª—è–µ–º countdown —Ç–æ–ª—å–∫–æ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
                            if (!state.lastCountdownUpdate || (now - state.lastCountdownUpdate) >= 1000) {
                                state.countdownTime--;
                                state.lastCountdownUpdate = now;
                                console.log(`‚è∞ –û—Å—Ç–∞–ª–æ—Å—å —Å–µ–∫—É–Ω–¥: ${state.countdownTime}`);
                            }
                            
                            if (state.countdownTime <= 0) {
                                state.phase = 'active';
                                state.multiplier = 1.00;
                                state.roundId = 'offline_round_' + now;
                                state.maxMultiplier = 0; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
                                
                                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞—É–Ω–¥–∞
                                if (ws.__roundState) {
                                    ws.__roundState.cashoutExecuted = false;
                                    console.log('üîÑ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å–±—Ä–æ—à–µ–Ω –≤ WebSocket –º–æ–∫–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞');
                                }
                                
                                if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                    const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                    if (sceneInstance) {
                                        sceneInstance.__cashoutExecuted = false;
                                        console.log('üîÑ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å–±—Ä–æ—à–µ–Ω –¥–ª—è –Ω–æ–≤–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞—É–Ω–¥–∞');
                                    }
                                }
                                state.crashAnimationTime = 0; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∫—Ä–∞—à–∞
                                
                                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ –≤ —Å—Ü–µ–Ω–µ
                                if (ws.__roundState) {
                                    ws.__roundState.cashoutExecuted = false;
                                    console.log('üîÑ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å–±—Ä–æ—à–µ–Ω –≤ WebSocket –º–æ–∫–µ –≤ –Ω–∞—á–∞–ª–µ —Ä–∞—É–Ω–¥–∞');
                                }
                                
                                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
                                if (ws.__roundState) {
                                    ws.__roundState.cashoutExecuted = false;
                                    console.log('üîÑ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å–±—Ä–æ—à–µ–Ω –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤ –Ω–∞—á–∞–ª–µ —Ä–∞—É–Ω–¥–∞');
                                }
                                
                                // –°–∫—Ä—ã–≤–∞–µ–º WIN –≤ –Ω–∞—á–∞–ª–µ –Ω–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞
                                console.log('üïê –°–∫—Ä—ã–≤–∞–µ–º WIN –≤ –Ω–∞—á–∞–ª–µ –Ω–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞');
                                const winElements = ['#cp_win', '.win_amount', '.win-text', '[data-win]'];
                                winElements.forEach(selector => {
                                    const element = document.querySelector(selector);
                                    if (element) {
                                        element.style.display = 'none';
                                        element.style.visibility = 'hidden';
                                        element.textContent = ''; // –û—á–∏—â–∞–µ–º —Ç–µ–∫—Å—Ç
                                        console.log(`üïê –°–∫—Ä—ã—Ç WIN –≤ ${selector} –≤ –Ω–∞—á–∞–ª–µ —Ä–∞—É–Ω–¥–∞`);
                                    }
                                });
                                
                                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
                                if (ws.__roundState) {
                                    ws.__roundState.cashoutExecuted = false;
                                    console.log('üîÑ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å–±—Ä–æ—à–µ–Ω –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤ –Ω–∞—á–∞–ª–µ —Ä–∞—É–Ω–¥–∞');
                                }
                                
                                if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                    const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                    if (sceneInstance) {
                                        sceneInstance.__cashoutExecuted = false;
                                        console.log('üîÑ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å–±—Ä–æ—à–µ–Ω –≤ –Ω–∞—á–∞–ª–µ —Ä–∞—É–Ω–¥–∞');
                                    }
                                }
                                
                                console.log('üöÄ –†–∞—É–Ω–¥ –Ω–∞—á–∞–ª—Å—è!');
                                
                                // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –Ω–∞ —Ñ–∞–∑—É —Ä–æ—Å—Ç–∞
                                setTimeout(() => {
                                    try {
                                        // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –Ω–∞ —Ñ–∞–∑—É —Ä–æ—Å—Ç–∞
                                        if (window.__setAnimationPhase) {
                                            window.__setAnimationPhase('rising');
                                        }
                                        
                                        // –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é —á–µ—Ä–µ–∑ –∏–≥—Ä–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã
                                        if (window.__gameApp) {
                                            window.__gameApp.emit('START_GAME');
                                            window.__gameApp.emit('ROUND_START');
                                            console.log('üîÑ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —Å–æ–±—ã—Ç–∏—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏');
                                        }
                                        
                                    } catch (error) {
                                        console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏:', error);
                                    }
                                }, 200);
                            }
                        } else if (state.phase === 'active') {
                            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–Ω–æ–∂–∏—Ç–µ–ª—å –±–æ–ª–µ–µ –ø–ª–∞–≤–Ω–æ - –∫–∞–∂–¥—ã–µ 100–º—Å
                            state.multiplier += (0.001 + Math.random() * 0.003) * 2.5; // –£—Å–∫–æ—Ä—è–µ–º –º–Ω–æ–∂–∏—Ç–µ–ª—å –≤ 1.8 —Ä–∞–∑–∞
                            
                            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç
                            if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                if (sceneInstance) {
                                    const currentMultiplier = state.multiplier;
                                    
                                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç —á–µ—Ä–µ–∑ UI —ç–ª–µ–º–µ–Ω—Ç—ã (–±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–±)
                                    if (sceneInstance.autoCashOutToggle1 && sceneInstance.autoCashOutToggle1.checked) {
                                        const autoCashOutValue = sceneInstance.autoCashOutValue1 || 1.50; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 1.50x
                                        if (currentMultiplier >= autoCashOutValue) {
                                            console.log(`ü§ñ –ê–≤—Ç–æ–∫–µ—à–∞—É—Ç —Å—Ä–∞–±–æ—Ç–∞–ª —á–µ—Ä–µ–∑ UI –Ω–∞ –º–Ω–æ–∂–∏—Ç–µ–ª–µ: ${currentMultiplier.toFixed(2)}x (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: ${autoCashOutValue.toFixed(2)}x)`);
                                            if (sceneInstance.onCashOutButtonClick) {
                                                sceneInstance.onCashOutButtonClick(['cash_out_btn']);
                                            }
                                            sceneInstance.autoCashOutToggle1.checked = false; // –û—Ç–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç
                                        }
                                    }
                                    
                                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç –¥–ª—è –ø–µ—Ä–≤–æ–π —Å—Ç–∞–≤–∫–∏
                                    if (sceneInstance.betData && sceneInstance.betData.bet1 && sceneInstance.betData.bet1.autoCashOutMultiplier > 0) {
                                        const autoCashOutMultiplier = sceneInstance.betData.bet1.autoCashOutMultiplier / 100;
                                        if (currentMultiplier >= autoCashOutMultiplier) {
                                            console.log(`ü§ñ –ê–≤—Ç–æ–∫–µ—à–∞—É—Ç —Å—Ä–∞–±–æ—Ç–∞–ª –¥–ª—è bet1 –Ω–∞ –º–Ω–æ–∂–∏—Ç–µ–ª–µ: ${currentMultiplier.toFixed(2)}x (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: ${autoCashOutMultiplier.toFixed(2)}x)`);
                                            if (sceneInstance.onCashOutButtonClick) {
                                                sceneInstance.onCashOutButtonClick(['cash_out_btn']);
                                            }
                                            sceneInstance.betData.bet1.autoCashOutMultiplier = 0; // Reset auto-cashout
                                        }
                                    }
                                    
                                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç –¥–ª—è –≤—Ç–æ—Ä–æ–π —Å—Ç–∞–≤–∫–∏
                                    if (sceneInstance.betData && sceneInstance.betData.bet2 && sceneInstance.betData.bet2.autoCashOutMultiplier > 0) {
                                        const autoCashOutMultiplier = sceneInstance.betData.bet2.autoCashOutMultiplier / 100;
                                        if (currentMultiplier >= autoCashOutMultiplier) {
                                            console.log(`ü§ñ –ê–≤—Ç–æ–∫–µ—à–∞—É—Ç —Å—Ä–∞–±–æ—Ç–∞–ª –¥–ª—è bet2 –Ω–∞ –º–Ω–æ–∂–∏—Ç–µ–ª–µ: ${currentMultiplier.toFixed(2)}x (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: ${autoCashOutMultiplier.toFixed(2)}x)`);
                                            if (sceneInstance.onCashOutButtonClick) {
                                                sceneInstance.onCashOutButtonClick(['cash_out_btn_2']);
                                            }
                                            sceneInstance.betData.bet2.autoCashOutMultiplier = 0; // Reset auto-cashout
                                        }
                                    }
                                }
                            }
                            
                            // –°–ª—É—á–∞–π–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ–º —Ä–∞—É–Ω–¥ (–∫—Ä–∞—à) - —É–º–µ–Ω—å—à–∞–µ–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å
                            if (Math.random() < 0.003) { // 0.3% —à–∞–Ω—Å –∫—Ä–∞—à–∞ –∫–∞–∂–¥—ã–µ 100–º—Å
                                state.phase = 'crash_animation';
                                state.maxMultiplier = state.multiplier;
                                state.crashAnimationTime = 0;
                                console.log(`üí• –†–∞—É–Ω–¥ –∑–∞–≤–µ—Ä—à–µ–Ω! –ú–Ω–æ–∂–∏—Ç–µ–ª—å: ${state.multiplier.toFixed(2)}x`);
                                
                                // –°—Ä–∞–∑—É –≤—ã–∑—ã–≤–∞–µ–º onGameFinished –¥–ª—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ FELL OFF
                                setTimeout(() => {
                                    if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                        const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                        if (sceneInstance && sceneInstance.onGameFinished) {
                                            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞–≤–∫–∏
                                            let hasActiveBets = false;
                                            if (sceneInstance.betData) {
                                                hasActiveBets = (sceneInstance.betData.bet1 && sceneInstance.betData.bet1.stake > 0) || 
                                                               (sceneInstance.betData.bet2 && sceneInstance.betData.bet2.stake > 0);
                                            }
                                            
                                            // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã
                                            const gameFinishedEvent = {
                                                isCashout: false, // –°—Ç–∞–≤–∫–∏ —Å–≥–æ—Ä—è—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å)
                                                result: {
                                                    result: {
                                                        maxMultiplier: state.maxMultiplier
                                                    }
                                                }
                                            };
                                            
                                            console.log('üé¨ –í—ã–∑—ã–≤–∞–µ–º onGameFinished –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ FELL OFF –ø—Ä–∏ –∫—Ä–∞—à–µ');
                                            sceneInstance.onGameFinished(gameFinishedEvent);
                                        }
                                    }
                                }, 50);
                            }
                        } else if (state.phase === 'crash_animation') {
                            // –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–∞–¥–µ–Ω–∏—è (2 —Å–µ–∫—É–Ω–¥—ã)
                            state.crashAnimationTime += 0.1; // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –Ω–∞ 100–º—Å
                            if (state.crashAnimationTime >= 2.0) {
                                state.phase = 'ended';
                                console.log('üé¨ –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –æ–∂–∏–¥–∞–Ω–∏—é...');
                                
                                // –°–∫—Ä—ã–≤–∞–µ–º WIN –≤ –∫–æ–Ω—Ü–µ —Ä–∞—É–Ω–¥–∞
                                console.log('üïê –°–∫—Ä—ã–≤–∞–µ–º WIN –≤ –∫–æ–Ω—Ü–µ —Ä–∞—É–Ω–¥–∞');
                                const winElements = ['#cp_win', '.win_amount', '.win-text', '[data-win]'];
                                winElements.forEach(selector => {
                                    const element = document.querySelector(selector);
                                    if (element) {
                                        element.style.display = 'none';
                                        element.style.visibility = 'hidden';
                                        element.textContent = ''; // –û—á–∏—â–∞–µ–º —Ç–µ–∫—Å—Ç
                                        console.log(`üïê –°–∫—Ä—ã—Ç WIN –≤ ${selector} –≤ –∫–æ–Ω—Ü–µ —Ä–∞—É–Ω–¥–∞`);
                                    }
                                });
                            }
                        } else if (state.phase === 'ended') {
                            // –ñ–¥–µ–º 3 —Å–µ–∫—É–Ω–¥—ã –∏ –Ω–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—ã–π —Ä–∞—É–Ω–¥
                            if (!state.endTimer) {
                                state.endTimer = true;
                                
                                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞—É–Ω–¥–∞ –°–†–ê–ó–£
                                const roundEndEvent = {
                                    rounds: [{
                                        id: state.roundId,
                                        status: 'ended',
                                        currentMultiplier: 0,
                                        maxMultiplier: +state.maxMultiplier.toFixed(2),
                                        timeToStartInSeconds: 0
                                    }]
                                };
                                
                                // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –æ–∫–æ–Ω—á–∞–Ω–∏—è
                                setTimeout(() => {
                                    try {
                                        if (window.__gameApp) {
                                            window.__gameApp.emit('gameInProgress', roundEndEvent);
                                            console.log('üí• –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞—É–Ω–¥–∞');
                                        }
                                        ws.onmessage && ws.onmessage({ data: JSON.stringify(roundEndEvent) });
                                    } catch (error) {
                                        console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è:', error);
                                    }
                                }, 100);
                                
                                // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞—É–Ω–¥–∞
                                setTimeout(() => {
                                    if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                        const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                        if (sceneInstance && sceneInstance.__betButtonsBlocked) {
                                            console.log('üîì –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞—É–Ω–¥–∞...');
                                            sceneInstance.__betButtonsBlocked = false;
                                            
                                            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Å—Ç–∞–≤–æ–∫ —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                            if (sceneInstance.first_bet_button) {
                                                sceneInstance.first_bet_button.updateButtonState(true);
                                                sceneInstance.first_bet_button.interactive = true;
                                                sceneInstance.first_bet_button.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.first_bet_button.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            if (sceneInstance.second_bet_button) {
                                                sceneInstance.second_bet_button.updateButtonState(true);
                                                sceneInstance.second_bet_button.interactive = true;
                                                sceneInstance.second_bet_button.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.second_bet_button.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            if (sceneInstance.third_bet_button) {
                                                sceneInstance.third_bet_button.updateButtonState(true);
                                                sceneInstance.third_bet_button.interactive = true;
                                                sceneInstance.third_bet_button.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.third_bet_button.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            if (sceneInstance.fourth_bet_button) {
                                                sceneInstance.fourth_bet_button.updateButtonState(true);
                                                sceneInstance.fourth_bet_button.interactive = true;
                                                sceneInstance.fourth_bet_button.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.fourth_bet_button.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            
                                            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ +/- —Å—Ç–∞–≤–æ–∫ —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                            if (sceneInstance.bet_minus_btn) {
                                                sceneInstance.bet_minus_btn.updateButtonState(true);
                                                sceneInstance.bet_minus_btn.interactive = true;
                                                sceneInstance.bet_minus_btn.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            if (sceneInstance.bet_plus_btn) {
                                                sceneInstance.bet_plus_btn.updateButtonState(true);
                                                sceneInstance.bet_plus_btn.interactive = true;
                                                sceneInstance.bet_plus_btn.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            
                                            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ +/-
                                            if (sceneInstance.plus_button) {
                                                sceneInstance.plus_button.interactive = true;
                                                sceneInstance.plus_button.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.plus_button.alpha = 1.0;
                                            }
                                            if (sceneInstance.minus_button) {
                                                sceneInstance.minus_button.interactive = true;
                                                sceneInstance.minus_button.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.minus_button.alpha = 1.0;
                                            }
                                            
                                            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫
                                            const buttonsToUnblock = [
                                                'first_bet_button', 'second_bet_button', 'third_bet_button', 'fourth_bet_button',
                                                'first_bet_button_2', 'second_bet_button_2', 'third_bet_button_2', 'fourth_bet_button_2',
                                                'plus_button', 'minus_button', 'plus_button_2', 'minus_button_2',
                                                'bet_plus_btn', 'bet_minus_btn', 'bet_plus_btn_2', 'bet_minus_btn_2',
                                                'autoCashOutToggle1', 'autoCashOutToggle2',
                                                'bet_btn_first', 'bet_btn_second'
                                            ];
                                            
                                            buttonsToUnblock.forEach(buttonName => {
                                                if (sceneInstance[buttonName]) {
                                                    if (sceneInstance[buttonName].updateButtonState) {
                                                        sceneInstance[buttonName].updateButtonState(true);
                                                    }
                                                    sceneInstance[buttonName].interactive = true;
                                                    sceneInstance[buttonName].tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                    sceneInstance[buttonName].alpha = 1.0;
                                                }
                                            });
                                            
                                            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç–∞ —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                            if (sceneInstance.autoCashOutToggle1) {
                                                sceneInstance.autoCashOutToggle1.interactive = true;
                                                sceneInstance.autoCashOutToggle1.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.autoCashOutToggle1.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            
                                            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É BET
                                            if (sceneInstance.bet_btn_first) {
                                                sceneInstance.bet_btn_first.updateButtonState(true);
                                                sceneInstance.bet_btn_first.interactive = true;
                                                sceneInstance.bet_btn_first.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.bet_btn_first.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            
                                            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏ —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                            if (sceneInstance.first_bet_button_2) {
                                                sceneInstance.first_bet_button_2.updateButtonState(true);
                                                sceneInstance.first_bet_button_2.interactive = true;
                                                sceneInstance.first_bet_button_2.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.first_bet_button_2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            if (sceneInstance.second_bet_button_2) {
                                                sceneInstance.second_bet_button_2.updateButtonState(true);
                                                sceneInstance.second_bet_button_2.interactive = true;
                                                sceneInstance.second_bet_button_2.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.second_bet_button_2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            if (sceneInstance.third_bet_button_2) {
                                                sceneInstance.third_bet_button_2.updateButtonState(true);
                                                sceneInstance.third_bet_button_2.interactive = true;
                                                sceneInstance.third_bet_button_2.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.third_bet_button_2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            if (sceneInstance.fourth_bet_button_2) {
                                                sceneInstance.fourth_bet_button_2.updateButtonState(true);
                                                sceneInstance.fourth_bet_button_2.interactive = true;
                                                sceneInstance.fourth_bet_button_2.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.fourth_bet_button_2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            
                                            if (sceneInstance.bet_minus_btn_2) {
                                                sceneInstance.bet_minus_btn_2.updateButtonState(true);
                                                sceneInstance.bet_minus_btn_2.interactive = true;
                                                sceneInstance.bet_minus_btn_2.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.bet_minus_btn_2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            if (sceneInstance.bet_plus_btn_2) {
                                                sceneInstance.bet_plus_btn_2.updateButtonState(true);
                                                sceneInstance.bet_plus_btn_2.interactive = true;
                                                sceneInstance.bet_plus_btn_2.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.bet_plus_btn_2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            
                                            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ +/- –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏
                                            if (sceneInstance.plus_button_2) {
                                                sceneInstance.plus_button_2.interactive = true;
                                                sceneInstance.plus_button_2.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.plus_button_2.alpha = 1.0;
                                            }
                                            if (sceneInstance.minus_button_2) {
                                                sceneInstance.minus_button_2.interactive = true;
                                                sceneInstance.minus_button_2.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.minus_button_2.alpha = 1.0;
                                            }
                                            
                                            if (sceneInstance.autoCashOutToggle2) {
                                                sceneInstance.autoCashOutToggle2.interactive = true;
                                                sceneInstance.autoCashOutToggle2.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.autoCashOutToggle2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            
                                            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É BET –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏
                                            if (sceneInstance.bet_btn_second) {
                                                sceneInstance.bet_btn_second.updateButtonState(true);
                                                sceneInstance.bet_btn_second.interactive = true;
                                                sceneInstance.bet_btn_second.tint = 0xFFFFFF; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç
                                                sceneInstance.bet_btn_second.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                            }
                                            
                                            console.log('‚úÖ –ö–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã');
                                            
                                            // –ò–°–ü–û–õ–¨–ó–£–ï–ú –í–°–¢–†–û–ï–ù–ù–£–Æ –§–£–ù–ö–¶–ò–Æ –†–ê–ó–ë–õ–û–ö–ò–†–û–í–ö–ò –¢–û–õ–¨–ö–û –í –ù–ê–ß–ê–õ–ï –ù–û–í–û–ì–û –†–ê–£–ù–î–ê
                                            if (sceneInstance.enablePanel) {
                                                sceneInstance.enablePanel();
                                                console.log('üîì –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–∞–Ω–µ–ª–µ–π –≤ –Ω–∞—á–∞–ª–µ –Ω–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞');
                                            }
                                        }
                                    }
                                }, 2000); // –ó–∞–¥–µ—Ä–∂–∫–∞ 2 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
                                
                                setTimeout(() => {
                                    // –î–æ–±–∞–≤–ª—è–µ–º –º–Ω–æ–∂–∏—Ç–µ–ª—å –≤ –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–¥ —Å–±—Ä–æ—Å–æ–º
                                    if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                        const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                        if (sceneInstance && sceneInstance.historyText && state.maxMultiplier > 0) {
                                            const multiplierText = state.maxMultiplier.toFixed(2) + "X";
                                            sceneInstance.historyText.unshift(multiplierText);
                                            if (sceneInstance.historyText.length > 6) {
                                                sceneInstance.historyText.pop();
                                            }
                                            if (sceneInstance.writeHistory) {
                                                sceneInstance.writeHistory();
                                            }
                                        }
                                        
                                        // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∞–≤–∫–∏ –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
                                        if (sceneInstance) {
                                            // –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º betData - –Ω–µ undefined, –∞ –ø—É—Å—Ç—ã–µ –æ–±—ä–µ–∫—Ç—ã
                                            sceneInstance.betData = { 
                                                bet1: { stake: 0, autoCashOutMultiplier: 0 }, 
                                                bet2: { stake: 0, autoCashOutMultiplier: 0 } 
                                            };
                                            sceneInstance.isfirstBetActive = false;
                                            sceneInstance.isSecondBetActive = false;
                                            sceneInstance.totalBetAdded_1 = 0;
                                            sceneInstance.totalBetAdded_2 = 0;
                                            
                                            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫
                                            if (sceneInstance.enablePanel) {
                                                sceneInstance.enablePanel();
                                            }
                                            console.log('üîÑ –°—Ç–∞–≤–∫–∏ —Å–±—Ä–æ—à–µ–Ω—ã, –∫–Ω–æ–ø–∫–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã');
                                        }
                                    }
                                    
                                    state.phase = 'open'; // –°–Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ —Ñ–∞–∑—É –æ—Ç–∫—Ä—ã—Ç–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                    state.endTimer = false;
                                    state.maxMultiplier = 0; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º
                                    state.crashAnimationTime = 0; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º
                                    state.roundId = 'offline_round_' + Date.now(); // –ù–æ–≤—ã–π ID —Ä–∞—É–Ω–¥–∞
                                    console.log('‚è≥ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –Ω–æ–≤–æ–º—É —Ä–∞—É–Ω–¥—É...');
                                    
                                    // –ß–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ waiting
                                    setTimeout(() => {
                                        state.phase = 'waiting';
                                        state.countdownTime = 10;
                                        console.log('üïê –ù–∞—á–∏–Ω–∞–µ–º –æ—Ç—Å—á–µ—Ç –¥–æ –Ω–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞...');
                                    }, 200);
                                    
                                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∞–≤–∫–∏ –≤ –∏–≥—Ä–µ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                                    if (window.__gameApp) {
                                        // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
                                        if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                            const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                            if (sceneInstance) {
                                                sceneInstance.isFirstTimeLoad = true;
                                                sceneInstance.loaderStarted = false;
                                                sceneInstance.isRoundCounterStarted = false;
                                            }
                                        }
                                        
                                        // –°–Ω–∞—á–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Ä–∞—É–Ω–¥–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                        window.__gameApp.emit('gameInProgress', {
                                            rounds: [{
                                                id: state.roundId,
                                                status: 'open', // –ò—Å–ø–æ–ª—å–∑—É–µ–º 'open' –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                                currentMultiplier: 0,
                                                maxMultiplier: 0,
                                                timeToStartInSeconds: 0
                                            }]
                                        });
                                        
                                        // –ó–∞—Ç–µ–º —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º getready
                                        setTimeout(() => {
                                            window.__gameApp.emit('gameInProgress', {
                                                rounds: [{
                                                    id: state.roundId,
                                                    status: 'getready',
                                                    currentMultiplier: 1.00,
                                                    maxMultiplier: 0,
                                                    timeToStartInSeconds: 10
                                                }]
                                            });
                                        }, 100);
                                        
                                        console.log('üîÑ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –Ω–æ–≤–æ–º—É —Ä–∞—É–Ω–¥—É - —Å—Ç–∞–≤–∫–∏ –¥–æ–ª–∂–Ω—ã —Å–±—Ä–æ—Å–∏—Ç—å—Å—è');
                                    }
                                    
                                    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –Ω–∞ idle —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                                    if (window.__setAnimationPhase) {
                                        window.__setAnimationPhase('idle');
                                    }
                                    
                                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π
                                    if (window.__animationState) {
                                        window.__animationState.spineAnimations = [];
                                        window.__animationState.lastRestart = 0;
                                    }
                                    
                                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ —Å–±—Ä–æ—Å–∞ —Å—Ç–∞–≤–æ–∫
                                    setTimeout(() => {
                                        try {
                                            // –°–æ–±—ã—Ç–∏–µ –¥–ª—è —Å–±—Ä–æ—Å–∞ UI —Å—Ç–∞–≤–æ–∫
                                            const resetBetEvent = {
                                                type: 'resetBets',
                                                rounds: [{
                                                    id: state.roundId,
                                                    status: 'waiting',
                                                    currentMultiplier: 1.00,
                                                    maxMultiplier: 0,
                                                    timeToStartInSeconds: 10
                                                }]
                                            };
                                            
                                            if (window.__gameApp) {
                                                window.__gameApp.emit('gameInProgress', resetBetEvent);
                                                window.__gameApp.emit('resetBets');
                                                window.__gameApp.emit('ROUND_END');
                                                console.log('üîÑ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ —Å–±—Ä–æ—Å–∞ —Å—Ç–∞–≤–æ–∫');
                                            }
                                            
                                        } catch (error) {
                                            console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞ —Å—Ç–∞–≤–æ–∫:', error);
                                        }
                                    }, 100);
                                    
                                }, 5000); // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–æ 5 —Å–µ–∫—É–Ω–¥
                            }
                        }
                        
                        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è UI (–∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç onGameInProgress)
                        if (window.__startGameRounds) {
                            // –õ–æ–≥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–∑—ã, –∞ –Ω–µ –∫–∞–∂–¥—ã–π —Ç–∏–∫
                            if (!ws.__lastLoggedPhase || ws.__lastLoggedPhase !== state.phase) {
                            console.log(`üì° WebSocket –º–æ–∫: ${state.phase} - –º–Ω–æ–∂–∏—Ç–µ–ª—å: ${state.multiplier.toFixed(2)}x`);
                                ws.__lastLoggedPhase = state.phase;
                            }
                            
                            // –õ–æ–≥–∏—Ä—É–µ–º –º–Ω–æ–∂–∏—Ç–µ–ª—å —Ä–µ–∂–µ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Ñ–∞–∑—ã (–∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥)
                            if (state.phase === 'active' && (!ws.__lastMultiplierLog || now - ws.__lastMultiplierLog > 5000)) {
                                // console.log(`üìà –ú–Ω–æ–∂–∏—Ç–µ–ª—å: ${state.multiplier.toFixed(2)}x`); // –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –ª–æ–≥–æ–≤
                                ws.__lastMultiplierLog = now;
                            }
                            
                            // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è onGameInProgress —Ñ—É–Ω–∫—Ü–∏–∏
                            let gameEvent = null;
                            
                            if (state.phase === 'countdown' || state.phase === 'waiting') {
                                // –§–∞–∑–∞ –æ–∂–∏–¥–∞–Ω–∏—è/–æ—Ç—Å—á–µ—Ç–∞ - getready
                                gameEvent = {
                                    rounds: [{
                                        id: state.roundId,
                                        status: 'getready',
                                        currentMultiplier: 1.00, // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±–∞–∑–æ–≤—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
                                        maxMultiplier: 0,
                                        timeToStartInSeconds: state.countdownTime > 0 ? state.countdownTime : 10
                                    }]
                                };
                                
                                // –õ–æ–≥–∏—Ä—É–µ–º —Ç–∞–π–º–µ—Ä –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                                if (!ws.__lastCountdownLog || now - ws.__lastCountdownLog > 1000) {
                                    console.log(`‚è∞ Countdown: –æ—Å—Ç–∞–ª–æ—Å—å ${state.countdownTime} —Å–µ–∫—É–Ω–¥`);
                                    ws.__lastCountdownLog = now;
                                }
                            } else if (state.phase === 'open') {
                                // –§–∞–∑–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è - –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                gameEvent = {
                                    rounds: [{
                                        id: state.roundId,
                                        status: 'open',
                                        currentMultiplier: 0,
                                        maxMultiplier: 0,
                                        timeToStartInSeconds: 0
                                    }]
                                };
                                console.log('üîÑ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è');
                                
                                // –õ–æ–≥–∏—Ä—É–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ countdown –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
                                if (state.phase === 'countdown' && (!ws.__lastCountdownUIUpdate || (now - ws.__lastCountdownUIUpdate) >= 1000)) {
                                    ws.__lastCountdownUIUpdate = now;
                                    console.log(`‚è∞ Countdown: –æ—Å—Ç–∞–ª–æ—Å—å ${state.countdownTime} —Å–µ–∫—É–Ω–¥`);
                                    
                                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è countdown
                                    try {
                                        if (window.__gameApp) {
                                            window.__gameApp.emit('updateCountdown', { timeLeft: state.countdownTime });
                                            window.__gameApp.emit('COUNTDOWN_UPDATE', { timeLeft: state.countdownTime });
                                        }
                                    } catch (error) {
                                        console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è countdown UI:', error);
                                    }
                                }
                            } else if (state.phase === 'active') {
                                // –ê–∫—Ç–∏–≤–Ω—ã–π —Ä–∞—É–Ω–¥ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞—Å—Ç—É—â–∏–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
                                gameEvent = {
                                    rounds: [{
                                        id: state.roundId,
                                        status: 'active',
                                        currentMultiplier: +state.multiplier.toFixed(2),
                                        maxMultiplier: 0,
                                        timeToStartInSeconds: 0
                                    }]
                                };
                                
                                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ–∫–µ—à
                                if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                    const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                    if (sceneInstance && sceneInstance.betData) {
                                        const currentMultiplier = state.multiplier;
                                        const autoCashOuts = [];
                                        
                                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ–∫–µ—à –¥–ª—è bet1
                                        if (sceneInstance.betData.bet1 && sceneInstance.betData.bet1.autoCashOutMultiplier > 0 && 
                                            currentMultiplier >= sceneInstance.betData.bet1.autoCashOutMultiplier) {
                                            sceneInstance.betData.bet1.autoCashOutMultiplier = 0;
                                            autoCashOuts.push("cash_out_btn");
                                        }
                                        
                                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ–∫–µ—à –¥–ª—è bet2
                                        if (sceneInstance.betData.bet2 && sceneInstance.betData.bet2.autoCashOutMultiplier > 0 && 
                                            currentMultiplier >= sceneInstance.betData.bet2.autoCashOutMultiplier) {
                                            sceneInstance.betData.bet2.autoCashOutMultiplier = 0;
                                            autoCashOuts.push("cash_out_btn_2");
                                        }
                                        
                                        // –í—ã–ø–æ–ª–Ω—è–µ–º –∞–≤—Ç–æ–∫–µ—à –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                                        if (autoCashOuts.length > 0) {
                                            console.log(`ü§ñ –ê–≤—Ç–æ–∫–µ—à —Å—Ä–∞–±–æ—Ç–∞–ª –Ω–∞ –º–Ω–æ–∂–∏—Ç–µ–ª–µ: ${currentMultiplier.toFixed(2)}x`);
                                            if (sceneInstance.onCashOutButtonClick) {
                                                sceneInstance.onCashOutButtonClick(autoCashOuts);
                                            }
                                        }
                                    }
                                }
                            } else if (state.phase === 'crash_animation') {
                                // –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
                                gameEvent = {
                                    rounds: [{
                                        id: state.roundId,
                                        status: 'ended',
                                        currentMultiplier: +state.maxMultiplier.toFixed(2), // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
                                        maxMultiplier: +state.maxMultiplier.toFixed(2),
                                        timeToStartInSeconds: 0
                                    }]
                                };
                                
                                // –õ–æ–≥–∏–∫–∞ —Å–≥–æ—Ä–∞–Ω–∏—è —Å—Ç–∞–≤–æ–∫ —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–∞–∑–µ 'ended' —á–µ—Ä–µ–∑ onGameFinished
                            } else if (state.phase === 'ended') {
                                // –†–∞—É–Ω–¥ –∑–∞–≤–µ—Ä—à–µ–Ω - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
                                gameEvent = {
                                    rounds: [{
                                        id: state.roundId,
                                        status: 'ended',
                                        currentMultiplier: +state.maxMultiplier.toFixed(2), // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å
                                        maxMultiplier: +state.maxMultiplier.toFixed(2),
                                        timeToStartInSeconds: 0
                                    }]
                                };
                                
                                // onGameFinished —É–∂–µ –±—ã–ª –≤—ã–∑–≤–∞–Ω –ø—Ä–∏ –∫—Ä–∞—à–µ, –∑–¥–µ—Å—å —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –Ω–æ–≤–æ–º—É —Ä–∞—É–Ω–¥—É
                            }
                            
                            if (gameEvent) {
                                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –Ω–∞–ø—Ä—è–º—É—é –≤ –∏–≥—Ä–æ–≤—É—é –ª–æ–≥–∏–∫—É
                                setTimeout(() => {
                                    // –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –∏ –≤—ã–∑–≤–∞—Ç—å –∏–≥—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è
                                    try {
                                        if (window.__gameApp) {
                                            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ —á–µ—Ä–µ–∑ ApplicationBase
                                            window.__gameApp.emit('gameInProgress', gameEvent);
                                            // console.log('üì§ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ —á–µ—Ä–µ–∑ ApplicationBase'); // –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∑–∞—Å–æ—Ä–µ–Ω–∏—è –∫–æ–Ω—Å–æ–ª–∏
                                        }
                                        
                                        // –ò—â–µ–º –∏–≥—Ä–æ–≤—É—é —Å—Ü–µ–Ω—É –∏ –≤—ã–∑—ã–≤–∞–µ–º onGameInProgress –Ω–∞–ø—Ä—è–º—É—é
                                        if (window.DO && window.DO.RendererScenes && window.DO.RendererScenes.Game) {
                                            const gameScene = window.DO.RendererScenes.Game.BananaGameScene;
                                            if (gameScene && gameScene.prototype && gameScene.prototype.onGameInProgress) {
                                                // –ù–∞—Ö–æ–¥–∏–º –∞–∫—Ç–∏–≤–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Å—Ü–µ–Ω—ã
                                                const sceneInstance = window.__gameRenderer?.SceneManager?.getCurrentScene?.();
                                                if (sceneInstance && sceneInstance.onGameInProgress) {
                                                    sceneInstance.onGameInProgress(gameEvent);
                                                    // console.log('üì§ –í—ã–∑–≤–∞–Ω onGameInProgress –Ω–∞–ø—Ä—è–º—É—é'); // –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∑–∞—Å–æ—Ä–µ–Ω–∏—è –∫–æ–Ω—Å–æ–ª–∏
                                                    
                                                    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º UI –º–Ω–æ–∂–∏—Ç–µ–ª—è —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —á–∞—Å—Ç–æ—Ç—ã
                                                    if (sceneInstance.counterText && gameEvent.rounds[0].currentMultiplier > 0) {
                                                        const multiplier = gameEvent.rounds[0].currentMultiplier;
                                                        sceneInstance.counterText.setText(multiplier.toFixed(2) + "X");
                                                        sceneInstance.counterText.visible = true;
                                                    }
                                                    
                                // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º progress_message –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Ñ–∞–∑—ã
                                if (state.phase === 'active' && sceneInstance.progress_message) {
                                    sceneInstance.progress_message.visible = true;
                                }
                                
                                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –∫–µ—à–∞—É—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞–≤–∫–∏
                                if (state.phase === 'active') {
                                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞–≤–∫–∏
                                    const hasActiveBet1 = sceneInstance.betData && sceneInstance.betData.bet1 && sceneInstance.betData.bet1.stake > 0;
                                    const hasActiveBet2 = sceneInstance.betData && sceneInstance.betData.bet2 && sceneInstance.betData.bet2.stake > 0;
                                    
                                    // –õ–æ–≥–∏—Ä—É–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç–∞–≤–æ–∫ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (–æ—Ç–∫–ª—é—á–µ–Ω–æ)
                                    // console.log('üéØ –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç–∞–≤–æ–∫:', { hasActiveBet1, hasActiveBet2, betData: sceneInstance.betData, phase: state.phase });
                                    
                                    // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∫–µ—à–∞—É—Ç–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è —Å—Ç–∞–≤–∫–∞ –ò –∫–µ—à–∞—É—Ç –µ—â–µ –Ω–µ –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω
                                    if (sceneInstance.cashout_btn_first) {
                                        if (hasActiveBet1 && !sceneInstance.__cashoutExecuted) {
                                            sceneInstance.cashout_btn_first.visible = true;
                                            sceneInstance.cashout_btn_first.updateButtonState(true);
                                            sceneInstance.cashout_btn_first.interactive = true;
                                            sceneInstance.cashout_btn_first.buttonMode = true;
                                            
                                            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π componentId –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–µ—à–∞—É—Ç–∞
                                            if (sceneInstance.cashout_btn_first.componentId !== "cash_out_btn") {
                                                sceneInstance.cashout_btn_first.componentId = "cash_out_btn";
                                                // console.log('üîß –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω componentId –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–µ—à–∞—É—Ç–∞ 1:', sceneInstance.cashout_btn_first.componentId);
                                            }
                                            
                                            // –õ–æ–≥–∏—Ä—É–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (–æ—Ç–∫–ª—é—á–µ–Ω–æ)
                                            // console.log('üí∞ –ö–Ω–æ–ø–∫–∞ –∫–µ—à–∞—É—Ç–∞ 1 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞:', { visible: sceneInstance.cashout_btn_first.visible, interactive: sceneInstance.cashout_btn_first.interactive, buttonMode: sceneInstance.cashout_btn_first.buttonMode, componentId: sceneInstance.cashout_btn_first.componentId || '–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω' });
                                            
                                            // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º onCashOutButtonClick —Å—Ä–∞–∑—É –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∫–Ω–æ–ø–∫–∏
                                            if (sceneInstance.onCashOutButtonClick && !sceneInstance.__cashoutOverridden) {
                                                const originalOnCashOutButtonClick = sceneInstance.onCashOutButtonClick;
                                                sceneInstance.onCashOutButtonClick = function(buttonIds) {
                                                    console.log('üí∞ onCashOutButtonClick –≤—ã–∑–≤–∞–Ω —Å –∫–Ω–æ–ø–∫–∞–º–∏:', buttonIds);
                                                    console.log('üîç –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–ª–∞–≥–∞ –∫–µ—à–∞—É—Ç–∞:', sceneInstance.__cashoutExecuted);
                                                    console.log('üîç –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞—É–Ω–¥–∞:', ws.__roundState ? ws.__roundState.phase : '–Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ');
                                                    
                                                    // –õ–æ–≥–∏—Ä—É–µ–º –ø–æ–ª–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
                                                    if (window.logGameState) {
                                                        window.logGameState();
                                                    }
                                                    
                                                    // –£–±–∏—Ä–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –∫–µ—à–∞—É—Ç–∞ - –º–æ–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
                                                    console.log('üí∞ –ö–µ—à–∞—É—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω - –º–æ–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑');
                                                    
                                                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–µ—à–∞—É—Ç–∞
                                                    sceneInstance.__cashoutExecuted = true;
                                                    console.log('‚úÖ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
                                                    
                                                    // –õ–æ–≥–∏—Ä—É–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ñ–ª–∞–≥–∞
                                                    if (window.logGameState) {
                                                        window.logGameState();
                                                    }
                                                    
                                                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ –≤ WebSocket –º–æ–∫–µ
                                                    if (ws.__roundState) {
                                                        ws.__roundState.cashoutExecuted = true;
                                                        console.log('‚úÖ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ WebSocket –º–æ–∫–µ');
                                                    }
                                                    
                                                    // –õ–æ–≥–∏—Ä—É–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö —Ñ–ª–∞–≥–æ–≤
                                                    if (window.logGameState) {
                                                        window.logGameState();
                                                    }
                                                    
                                                    // –°—Ä–∞–∑—É –±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –∫–µ—à–∞—É—Ç–∞ –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è
                                                    if (buttonIds.includes('cash_out_btn') && sceneInstance.cashout_btn_first) {
                                                        sceneInstance.cashout_btn_first.updateButtonState(false);
                                                        sceneInstance.cashout_btn_first.interactive = false;
                                                        sceneInstance.cashout_btn_first.buttonMode = false;
                                                        // console.log('üîí –ö–Ω–æ–ø–∫–∞ –∫–µ—à–∞—É—Ç–∞ 1 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è'); // –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –ª–æ–≥–æ–≤
                                                    }
                                                    if (buttonIds.includes('cash_out_btn_2') && sceneInstance.cashout_btn_second) {
                                                        sceneInstance.cashout_btn_second.updateButtonState(false);
                                                        sceneInstance.cashout_btn_second.interactive = false;
                                                        sceneInstance.cashout_btn_second.buttonMode = false;
                                                        // console.log('üîí –ö–Ω–æ–ø–∫–∞ –∫–µ—à–∞—É—Ç–∞ 2 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è'); // –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –ª–æ–≥–æ–≤
                                                    }
                                                    
                                                    // console.log('üí∞ –ü—Ä–æ–≤–µ—Ä—è–µ–º ApplicationBase:', window.DO && window.DO.Common && window.DO.Common.ApplicationBase); // –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –ª–æ–≥–æ–≤
                                                    // console.log('üí∞ –ü—Ä–æ–≤–µ—Ä—è–µ–º __gameApp:', window.__gameApp); // –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –ª–æ–≥–æ–≤
                                                    
                                                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º ApplicationBase –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                                                    if (window.DO && window.DO.Common && window.DO.Common.ApplicationBase) {
                                                        if (!window.__gameApp) {
                                                            window.__gameApp = window.DO.Common.ApplicationBase.instance;
                                                            // console.log('üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω __gameApp:', window.__gameApp); // –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –ª–æ–≥–æ–≤
                                                        }
                                                        
                                                        // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º emit –¥–ª—è ApplicationBase.instance
                                                        if (window.DO.Common.ApplicationBase.instance && !window.DO.Common.ApplicationBase.instance.__emitOverridden) {
                                                            const originalEmit = window.DO.Common.ApplicationBase.instance.emit;
                                                            window.DO.Common.ApplicationBase.instance.emit = function(eventName, data) {
                                                                // –õ–æ–≥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, –Ω–µ gameInProgress –∏ game_other_state
                                                                if (eventName !== 'gameInProgress' && eventName !== 'game_other_state') {
                                                                    console.log('üì§ ApplicationBase.emit:', eventName, data);
                                                                }
                                                                if (originalEmit) {
                                                                    return originalEmit.call(this, eventName, data);
                                                                }
                                                            };
                                                            window.DO.Common.ApplicationBase.instance.__emitOverridden = true;
                                                            // console.log('üîß ApplicationBase.emit –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω'); // –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –ª–æ–≥–æ–≤
                                                        }
                                                    }
                                                    
                                                    if (originalOnCashOutButtonClick) {
                                                        console.log('üîÑ –í—ã–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π onCashOutButtonClick...');
                                                        const result = originalOnCashOutButtonClick.call(this, buttonIds);
                                                        console.log('üí∞ onCashOutButtonClick –∑–∞–≤–µ—Ä—à–µ–Ω, —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', result);
                                                        
                                                        // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º WIN –ø–æ—Å–ª–µ –∫–µ—à–∞—É—Ç–∞
                                                        setTimeout(() => {
                                                            const currentMultiplier = ws.__roundState ? ws.__roundState.multiplier : 1.0;
                                                            // –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç–∞–≤–∫—É –∏–∑ —Å—Ü–µ–Ω—ã
                                                            let betAmount = 100.0; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
                                                            if (sceneInstance.betData && sceneInstance.betData.bet1 && sceneInstance.betData.bet1.amount) {
                                                                betAmount = sceneInstance.betData.bet1.amount;
                                                            } else if (sceneInstance.currentBetAmount) {
                                                                betAmount = sceneInstance.currentBetAmount;
                                                            }
                                                            const winAmount = betAmount * currentMultiplier;
                                                            console.log('üí∞ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º WIN –ø–æ—Å–ª–µ –∫–µ—à–∞—É—Ç–∞:', winAmount, '(—Å—Ç–∞–≤–∫–∞:', betAmount, '√ó –º–Ω–æ–∂–∏—Ç–µ–ª—å:', currentMultiplier, ')');
                                                            
                                                            // –ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–∫–∞–∑–∞ WIN
                                                            if (window.showWin) {
                                                                window.showWin(winAmount);
                                                            }
                                                        }, 500);
                                                        
                                                        return result;
                                                    }
                                                };
                                                sceneInstance.__cashoutOverridden = true;
                                                console.log('üîß onCashOutButtonClick –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω');
                                            }
                                            
                                            // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä—è–º–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                                            if (sceneInstance.cashout_btn_first.on) {
                                                sceneInstance.cashout_btn_first.on('pointerdown', () => {
                                                    console.log('üñ±Ô∏è –ü—Ä—è–º–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –∫–µ—à–∞—É—Ç–∞');
                                                    
                                                    // –£–±–∏—Ä–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –∫–µ—à–∞—É—Ç–∞ - –º–æ–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
                                                    console.log('üí∞ –ö–µ—à–∞—É—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω - –º–æ–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑');
                                                    
                                                    // –ü—ã—Ç–∞–µ–º—Å—è –≤—ã–∑–≤–∞—Ç—å onCashOutButtonClick –Ω–∞–ø—Ä—è–º—É—é
                                                    if (sceneInstance.onCashOutButtonClick) {
                                                        console.log('üí∞ –í—ã–∑—ã–≤–∞–µ–º onCashOutButtonClick –Ω–∞–ø—Ä—è–º—É—é');
                                                        // –í—ã–∑—ã–≤–∞–µ–º –Ω–∞—à—É –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
                                                        sceneInstance.onCashOutButtonClick(['cash_out_btn']);
                                                    }
                                                    
                                                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º WIN –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
                                                    const currentMultiplier = ws.__roundState ? ws.__roundState.multiplier : 1.0;
                                                    // –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç–∞–≤–∫—É –∏–∑ —Å—Ü–µ–Ω—ã
                                                    let betAmount = 100.0; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
                                                    if (sceneInstance.betData && sceneInstance.betData.bet1 && sceneInstance.betData.bet1.amount) {
                                                        betAmount = sceneInstance.betData.bet1.amount;
                                                    } else if (sceneInstance.currentBetAmount) {
                                                        betAmount = sceneInstance.currentBetAmount;
                                                    }
                                                    const winAmount = betAmount * currentMultiplier;
                                                    console.log('üí∞ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º WIN –ø—Ä–∏ –ø—Ä—è–º–æ–º –Ω–∞–∂–∞—Ç–∏–∏:', winAmount, '(—Å—Ç–∞–≤–∫–∞:', betAmount, '√ó –º–Ω–æ–∂–∏—Ç–µ–ª—å:', currentMultiplier, ')');
                                                    
                                                    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–∫–∞–∑–∞ WIN
                                                    if (window.showWin) {
                                                        window.showWin(winAmount);
                                                    }
                                                });
                                            }
                                            
                                            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∫–µ—à–∞—É—Ç–∞
                                            if (sceneInstance.cash_out_btn_text) {
                                                sceneInstance.cash_out_btn_text.visible = true;
                                            }
                                            
                                            // –õ–æ–≥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–æ—Ç–∫–ª—é—á–µ–Ω–æ)
                                            if (!ws.__cashout1Active) {
                                                // console.log('üí∞ –ö–Ω–æ–ø–∫–∞ –∫–µ—à–∞—É—Ç–∞ 1 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞');
                                                ws.__cashout1Active = true;
                                            }
                                        } else if (hasActiveBet1 && sceneInstance.__cashoutExecuted) {
                                            // –ö–µ—à–∞—É—Ç —É–∂–µ –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω - –±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
                                            sceneInstance.cashout_btn_first.visible = true;
                                            sceneInstance.cashout_btn_first.updateButtonState(false);
                                            sceneInstance.cashout_btn_first.interactive = false;
                                            sceneInstance.cashout_btn_first.buttonMode = false;
                                        } else {
                                            sceneInstance.cashout_btn_first.visible = false;
                                            sceneInstance.cashout_btn_first.updateButtonState(false);
                                            sceneInstance.cashout_btn_first.interactive = false;
                                            sceneInstance.cashout_btn_first.buttonMode = false;
                                            
                                            // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∫–µ—à–∞—É—Ç–∞
                                            if (sceneInstance.cash_out_btn_text) {
                                                sceneInstance.cash_out_btn_text.visible = false;
                                            }
                                            
                                            // –õ–æ–≥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                            if (ws.__cashout1Active) {
                                                console.log('üîí –ö–Ω–æ–ø–∫–∞ –∫–µ—à–∞—É—Ç–∞ 1 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞');
                                                ws.__cashout1Active = false;
                                            }
                                        }
                                    }
                                    
                                    if (sceneInstance.cashout_btn_second) {
                                        if (hasActiveBet2 && !sceneInstance.__cashoutExecuted) {
                                            sceneInstance.cashout_btn_second.visible = true;
                                            sceneInstance.cashout_btn_second.updateButtonState(true);
                                            sceneInstance.cashout_btn_second.interactive = true;
                                            sceneInstance.cashout_btn_second.buttonMode = true;
                                            
                                            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π componentId –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–µ—à–∞—É—Ç–∞
                                            if (sceneInstance.cashout_btn_second.componentId !== "cash_out_btn_2") {
                                                sceneInstance.cashout_btn_second.componentId = "cash_out_btn_2";
                                                // console.log('üîß –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω componentId –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–µ—à–∞—É—Ç–∞ 2:', sceneInstance.cashout_btn_second.componentId);
                                            }
                                            
                                            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∫–µ—à–∞—É—Ç–∞
                                            if (sceneInstance.cash_out_btn_2_text) {
                                                sceneInstance.cash_out_btn_2_text.visible = true;
                                            }
                                            
                                            // –õ–æ–≥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–æ—Ç–∫–ª—é—á–µ–Ω–æ)
                                            if (!ws.__cashout2Active) {
                                                // console.log('üí∞ –ö–Ω–æ–ø–∫–∞ –∫–µ—à–∞—É—Ç–∞ 2 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞');
                                                ws.__cashout2Active = true;
                                            }
                                        } else if (hasActiveBet2 && sceneInstance.__cashoutExecuted) {
                                            // –ö–µ—à–∞—É—Ç —É–∂–µ –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω - –±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
                                            sceneInstance.cashout_btn_second.visible = true;
                                            sceneInstance.cashout_btn_second.updateButtonState(false);
                                            sceneInstance.cashout_btn_second.interactive = false;
                                            sceneInstance.cashout_btn_second.buttonMode = false;
                                        } else {
                                            sceneInstance.cashout_btn_second.visible = false;
                                            sceneInstance.cashout_btn_second.updateButtonState(false);
                                            sceneInstance.cashout_btn_second.interactive = false;
                                            sceneInstance.cashout_btn_second.buttonMode = false;
                                            
                                            // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∫–µ—à–∞—É—Ç–∞
                                            if (sceneInstance.cash_out_btn_2_text) {
                                                sceneInstance.cash_out_btn_2_text.visible = false;
                                            }
                                            
                                            // –õ–æ–≥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                            if (ws.__cashout2Active) {
                                                console.log('üîí –ö–Ω–æ–ø–∫–∞ –∫–µ—à–∞—É—Ç–∞ 2 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞');
                                                ws.__cashout2Active = false;
                                            }
                                        }
                                    }
                                } else {
                                    // –í –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–∞–∑–∞—Ö —Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –∫–µ—à–∞—É—Ç–∞
                                    if (sceneInstance.cashout_btn_first) {
                                        sceneInstance.cashout_btn_first.visible = false;
                                        sceneInstance.cashout_btn_first.updateButtonState(false);
                                        sceneInstance.cashout_btn_first.interactive = false;
                                        sceneInstance.cashout_btn_first.buttonMode = false;
                                        
                                        // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∫–µ—à–∞—É—Ç–∞
                                        if (sceneInstance.cash_out_btn_text) {
                                            sceneInstance.cash_out_btn_text.visible = false;
                                        }
                                    }
                                    if (sceneInstance.cashout_btn_second) {
                                        sceneInstance.cashout_btn_second.visible = false;
                                        sceneInstance.cashout_btn_second.updateButtonState(false);
                                        sceneInstance.cashout_btn_second.interactive = false;
                                        sceneInstance.cashout_btn_second.buttonMode = false;
                                        
                                        // –°–∫—Ä—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –∫–µ—à–∞—É—Ç–∞
                                        if (sceneInstance.cash_out_btn_2_text) {
                                            sceneInstance.cash_out_btn_2_text.visible = false;
                                        }
                                    }
                                    // –õ–æ–≥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–∑—ã
                                    if (ws.__lastPhase !== state.phase) {
                                        console.log(`üîí –ö–Ω–æ–ø–∫–∏ –∫–µ—à–∞—É—Ç–∞ —Å–∫—Ä—ã—Ç—ã (—Ñ–∞–∑–∞: ${state.phase})`);
                                        ws.__lastPhase = state.phase;
                                    }
                                }
                                                    
                                                    // –£–±–∏—Ä–∞–µ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤ - —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –≤–∏–¥–∏–º—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
                                                }
                                            }
                                        }
                                    } catch (error) {
                                        console.log('‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–∑–≤–∞—Ç—å –∏–≥—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è –Ω–∞–ø—Ä—è–º—É—é:', error);
                                    }
                                    
                                    // –¢–∞–∫–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —á–µ—Ä–µ–∑ WebSocket –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã
                                    ws.onmessage && ws.onmessage({ 
                                        data: JSON.stringify(gameEvent) 
                                    });
                                }, 50);
                            }
                        }
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—ã–µ 100–º—Å –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏, –Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ
                        if (!ws.__closed && ws.__isInitialized) {
                            setTimeout(() => listeners(ws).tick(), 100);
                        }
                    },
                    close: () => {
                        console.log('üîå WebSocket –º–æ–∫ –æ—Ç–∫–ª—é—á–µ–Ω');
                        ws.onclose && ws.onclose({});
                    }
                });

                class MockWebSocket {
                    constructor(url) {
                        console.log('üîå –°–æ–∑–¥–∞–µ–º WebSocket –º–æ–∫ –¥–ª—è:', url);
                        this.url = url;
                        this.readyState = 0; // CONNECTING
                        this.__closed = false;
                        this.protocol = '';
                        this.extensions = '';
                        this.__isInitialized = false;
                        
                        // –≠–º—É–ª–∏—Ä—É–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
                        setTimeout(() => { 
                            if (!this.__closed) {
                                this.readyState = 1; // OPEN
                                this.__isInitialized = true;
                                listeners(this).open(); 
                                listeners(this).tick(); 
                            }
                        }, 100);
                    }
                    
                    send(data) { 
                        console.log('üì§ WebSocket –º–æ–∫ –ø–æ–ª—É—á–∏–ª:', data);
                        
                        // –ó–∞—â–∏—Ç–∞ –æ—Ç —Ç–∞–π–º–∞—É—Ç–æ–≤ - –æ—Ç–≤–µ—á–∞–µ–º –±—ã—Å—Ç—Ä–æ
                        if (!this.__isInitialized) {
                            console.log('‚ö†Ô∏è WebSocket –µ—â–µ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ');
                            return;
                        }
                        
                        // –ü–∞—Ä—Å–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–¥–∏–Ω —Ä–∞–∑
                        let message;
                        try {
                            message = JSON.parse(data);
                        } catch (error) {
                            console.log('‚ùå –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ WebSocket —Å–æ–æ–±—â–µ–Ω–∏—è:', error);
                            return;
                        }
                        
                        // –û—Ç–≤–µ—á–∞–µ–º –Ω–∞ –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ç–∞–π–º–∞—É—Ç–æ–≤
                        const respondImmediately = () => {
                            if (this.__closed || !this.__isInitialized) return;
                            
                            try {
                                const requestId = message.data?.requestId || 'unknown';
                                
                                // –ë–∞–∑–æ–≤—ã–π –æ—Ç–≤–µ—Ç –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
                                let response = {
                                    cmd: message.cmd,
                                    source: message.source || 'testgame',
                                    data: {
                                        requestId: requestId,
                                        success: true
                                    }
                                };
                                
                                // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
                                if (message.cmd === 'systemping') {
                                    response.data.serverTimeInMS = Date.now();
                                    response.data.localTimeInMS = message.data?.localTimeInMS;
                                    
                                    // –û—Ç–≤–µ—á–∞–µ–º –Ω–∞ systemping –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
                                    if (this.onmessage) {
                                        this.onmessage({ data: JSON.stringify(response) });
                                    }
                                    console.log('üì§ WebSocket –º–æ–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ systemping:', response);
                                    return; // –í—ã—Ö–æ–¥–∏–º, –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–∞–ª—å—à–µ
                                } else if (message.cmd === 'metric') {
                                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ—Ç—Ä–∏–∫ - –ø—Ä–æ—Å—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º –ø–æ–ª—É—á–µ–Ω–∏–µ
                                    response.data.success = true;
                                    console.log('üìä WebSocket: –ü–æ–ª—É—á–µ–Ω–∞ –º–µ—Ç—Ä–∏–∫–∞:', message.data);
                                } else if (message.cmd === 'SEND_ENTER_COMMON_DRAW_REQUEST') {
                                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞–≤–∫–∏
                                    console.log('üé≤ WebSocket: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å—Ç–∞–≤–∫—É:', message);
                                    
                                    // –õ–æ–≥–∏—Ä—É–µ–º –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–æ–±—ã—Ç–∏–π
                                    console.log('üîç DO.Common.Server –≤ WebSocket:', window.DO && window.DO.Common && window.DO.Common.Server);
                                    if (window.DO && window.DO.Common && window.DO.Common.Server) {
                                        console.log('üîç –í—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ DO.Common.Server –≤ WebSocket:', Object.keys(window.DO.Common.Server));
                                    }
                                    
                                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞—É–Ω–¥–∞ –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç–∞–≤–∫–∏
                                    if (this.__roundState) {
                                        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç–∞ –ø–µ—Ä–µ–¥ —Å–±—Ä–æ—Å–æ–º
                                        let savedAutoCashOut1 = null;
                                        let savedAutoCashOut2 = null;
                                        if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                            const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                            if (sceneInstance) {
                                                if (sceneInstance.autoCashOutToggle1 && sceneInstance.autoCashOutToggle1.checked) {
                                                    savedAutoCashOut1 = sceneInstance.autoCashOutValue1 || 1.50;
                                                }
                                                if (sceneInstance.autoCashOutToggle2 && sceneInstance.autoCashOutToggle2.checked) {
                                                    savedAutoCashOut2 = sceneInstance.autoCashOutValue2 || 1.50;
                                                }
                                            }
                                        }
                                        
                                        this.__roundState.phase = 'open';
                                        this.__roundState.countdownTime = 10;
                                        this.__roundState.multiplier = 1.00;
                                        this.__roundState.maxMultiplier = 0;
                                        this.__roundState.endTimer = false;
                                        this.__roundState.crashAnimationTime = 0;
                                        this.__roundState.roundId = 'offline_round_' + Date.now();
                                        
                                        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç–∞ –ø–æ—Å–ª–µ —Å–±—Ä–æ—Å–∞
                                        if (savedAutoCashOut1 !== null || savedAutoCashOut2 !== null) {
                                            setTimeout(() => {
                                                if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                    const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                    if (sceneInstance) {
                                                        if (savedAutoCashOut1 !== null && sceneInstance.autoCashOutToggle1) {
                                                            sceneInstance.autoCashOutToggle1.checked = true;
                                                            sceneInstance.autoCashOutValue1 = savedAutoCashOut1;
                                                            console.log('üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç 1:', savedAutoCashOut1);
                                                        }
                                                        if (savedAutoCashOut2 !== null && sceneInstance.autoCashOutToggle2) {
                                                            sceneInstance.autoCashOutToggle2.checked = true;
                                                            sceneInstance.autoCashOutValue2 = savedAutoCashOut2;
                                                            console.log('üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç 2:', savedAutoCashOut2);
                                                        }
                                                    }
                                                }
                                            }, 100);
                                        }
                                        
                                        // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫
                                        if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                            const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                            if (sceneInstance) {
                                                console.log('üîí –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –≤ WebSocket...');
                                                sceneInstance.__betButtonsBlocked = true;
                                                
                                                // –ò–°–ü–û–õ–¨–ó–£–ï–ú –í–°–¢–†–û–ï–ù–ù–´–ï –§–£–ù–ö–¶–ò–ò –ë–õ–û–ö–ò–†–û–í–ö–ò
                                                if (sceneInstance.disablePanelFirstBetPanel) {
                                                    sceneInstance.disablePanelFirstBetPanel();
                                                    console.log('üîí WebSocket: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–≤–æ–π –ø–∞–Ω–µ–ª–∏');
                                                }
                                                if (sceneInstance.disablePanelSecondBetPanel) {
                                                    sceneInstance.disablePanelSecondBetPanel();
                                                    console.log('üîí WebSocket: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏');
                                                }
                                                
                                                // –ü—Ä—è–º–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ —Å—Ç–∞–≤–æ–∫
                                                const buttonsToBlock = [
                                                    'first_bet_button', 'second_bet_button', 'third_bet_button', 'fourth_bet_button',
                                                    'first_bet_button_2', 'second_bet_button_2', 'third_bet_button_2', 'fourth_bet_button_2',
                                                    'plus_button', 'minus_button', 'plus_button_2', 'minus_button_2',
                                                    'bet_plus_btn', 'bet_minus_btn', 'bet_plus_btn_2', 'bet_minus_btn_2',
                                                    'autoCashOutToggle1', 'autoCashOutToggle2',
                                                    'bet_btn_first', 'bet_btn_second'
                                                ];
                                                
                                                buttonsToBlock.forEach(buttonName => {
                                                    if (sceneInstance[buttonName]) {
                                                        if (sceneInstance[buttonName].updateButtonState) {
                                                            sceneInstance[buttonName].updateButtonState(false);
                                                        }
                                                        sceneInstance[buttonName].interactive = false;
                                                        sceneInstance[buttonName].alpha = 0.5;
                                                        console.log(`üîí WebSocket –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ ${buttonName}`);
                                                    }
                                                });
                                                
                                                if (sceneInstance.disablePanelFirstBetPanel) {
                                                    sceneInstance.disablePanelFirstBetPanel();
                                                }
                                                if (sceneInstance.disablePanelSecondBetPanel) {
                                                    sceneInstance.disablePanelSecondBetPanel();
                                                }
                                                
                                                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–µ—à–∞—É—Ç–∞
                                                if (sceneInstance.cash_out_btn_text) {
                                                    sceneInstance.cash_out_btn_text.visible = false;
                                                }
                                                if (sceneInstance.cash_out_btn_2_text) {
                                                    sceneInstance.cash_out_btn_2_text.visible = false;
                                                }
                                            }
                                        }
                                        
                                        setTimeout(() => {
                                            this.__roundState.phase = 'waiting';
                                        }, 100);
                                    }
                                    
                                    // –í—ã—á–∏—Ç–∞–µ–º —Å—Ç–∞–≤–∫—É –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞
                                    const betAmount = message.data?.body?.stake || 100;
                                    ws.__currentBalance -= betAmount;
                                    
                                    response.cmd = 'SEND_ENTER_COMMON_DRAW_RESPONSE';
                                    response.data.body = {
                                        success: true,
                                        betId: 'bet_' + Date.now(),
                                        currency: 'EUR',
                                        balance: {
                                            totalBalance: ws.__currentBalance,
                                            currency: 'EUR'
                                        }
                                    };
                                    
                                    console.log(`üí∞ –°—Ç–∞–≤–∫–∞ ${betAmount} –≤—ã—á—Ç–µ–Ω–∞ –∏–∑ –±–∞–ª–∞–Ω—Å–∞. –ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: ${ws.__currentBalance} —Ü–µ–Ω—Ç–æ–≤ (${(ws.__currentBalance / 100).toFixed(2)} EUR)`);
                                    
                                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞–≤–∫—É –≤ betData
                                    if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                        const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                        if (sceneInstance && sceneInstance.betData) {
                                            const betAmount = message.data?.body?.stake || 100;
                                            const betIndex = message.data?.body?.betIndex || 1; // 1 –∏–ª–∏ 2
                                            
                                            if (betIndex === 1) {
                                                sceneInstance.betData.bet1.stake = betAmount;
                                                sceneInstance.isfirstBetActive = true;
                                                sceneInstance.totalBetAdded_1 = betAmount;
                                            } else if (betIndex === 2) {
                                                sceneInstance.betData.bet2.stake = betAmount;
                                                sceneInstance.isSecondBetActive = true;
                                                sceneInstance.totalBetAdded_2 = betAmount;
                                            }
                                            
                                            console.log(`üéØ –°—Ç–∞–≤–∫–∞ ${betIndex}: ${betAmount}`);
                                        }
                                    }
                                    
                                    
                                } else if (message.cmd === 'SEND_CASHOUT_COMMON_DRAW_REQUEST') {
                                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–µ—à–∞—É—Ç–∞
                                    console.log('üí∞ WebSocket: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–µ—à–∞—É—Ç:', message);
                                    console.log('üí∞ WebSocket: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∫–µ—à–∞—É—Ç–∞:', JSON.stringify(message, null, 2));
                                    console.log('üí∞ WebSocket: –ù–∞—á–∏–Ω–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–µ—à–∞—É—Ç–∞...');
                                    
                                    if (this.__roundState && this.__roundState.phase === 'active') {
                                        this.__roundState.phase = 'crash_animation';
                                        this.__roundState.maxMultiplier = this.__roundState.multiplier;
                                        this.__roundState.crashAnimationTime = 0;
                                        
                                        // –°—Ä–∞–∑—É –≤—ã–∑—ã–≤–∞–µ–º onGameFinished –¥–ª—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ FELL OFF –ø—Ä–∏ –∫–µ—à–∞—É—Ç–µ
                                        setTimeout(() => {
                                            if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                if (sceneInstance && sceneInstance.onGameFinished) {
                                                    // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã (—Å –∫–µ—à–∞—É—Ç–æ–º)
                                                    const gameFinishedEvent = {
                                                        isCashout: true, // –ö–µ—à–∞—É—Ç - —Å—Ç–∞–≤–∫–∏ –Ω–µ –≥–æ—Ä—è—Ç
                                                        result: {
                                                            result: {
                                                                maxMultiplier: this.__roundState.multiplier
                                                            }
                                                        }
                                                    };
                                                    
                                                    console.log('üí∞ –í—ã–∑—ã–≤–∞–µ–º onGameFinished –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ FELL OFF –ø—Ä–∏ –∫–µ—à–∞—É—Ç–µ');
                                                    sceneInstance.onGameFinished(gameFinishedEvent);
                                                }
                                            }
                                        }, 50);
                                        
                                        // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                                        if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                            const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                            if (sceneInstance && sceneInstance.historyText) {
                                                const multiplierText = this.__roundState.multiplier.toFixed(2) + "X";
                                                sceneInstance.historyText.unshift(multiplierText);
                                                if (sceneInstance.historyText.length > 6) {
                                                    sceneInstance.historyText.pop();
                                                }
                                                if (sceneInstance.writeHistory) {
                                                    sceneInstance.writeHistory();
                                                }
                                            }
                                        }
                                    }
                                    
                                    const currentMultiplier = this.__roundState?.multiplier || 1.25;
                                    
                                    // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ —Å—Ç–∞–≤–∫–∞—Ö –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
                                    const betData = message.data?.body?.betData || {};
                                    const betTypes = betData.bet || []; // ["bet1"] –∏–ª–∏ ["bet2"] –∏–ª–∏ ["bet1", "bet2"]
                                    
                                    console.log('üí∞ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–µ—à–∞—É—Ç –¥–ª—è —Å—Ç–∞–≤–æ–∫:', betTypes);
                                    
                                    // –í—ã—á–∏—Å–ª—è–µ–º –æ–±—â—É—é —Å—É–º–º—É —Å—Ç–∞–≤–∫–∏
                                    let totalBetAmount = 0;
                                    if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                        const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                        if (sceneInstance && sceneInstance.betData) {
                                            if (betTypes.includes("bet1") && sceneInstance.betData.bet1) {
                                                totalBetAmount += sceneInstance.betData.bet1.stake || 0;
                                            }
                                            if (betTypes.includes("bet2") && sceneInstance.betData.bet2) {
                                                totalBetAmount += sceneInstance.betData.bet2.stake || 0;
                                            }
                                        }
                                    }
                                    
                                    const winAmount = Math.floor(currentMultiplier * totalBetAmount);
                                    
                                    // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–∏–≥—Ä—ã—à –∫ —Ç–µ–∫—É—â–µ–º—É –±–∞–ª–∞–Ω—Å—É
                                    ws.__currentBalance += winAmount;
                                    
                                    response.cmd = 'SEND_CASHOUT_COMMON_DRAW_RESPONSE';
                                    response.data.body = {
                                        success: true,
                                        currency: 'EUR',
                                        balance: {
                                            totalBalance: ws.__currentBalance,
                                            currency: 'EUR'
                                        },
                                        result: {
                                            win: winAmount,
                                            multiplier: +currentMultiplier.toFixed(2),
                                            cashedOut: true,
                                            betAmount: totalBetAmount
                                        }
                                    };
                                    
                                    // onGameFinished —É–∂–µ –±—ã–ª –≤—ã–∑–≤–∞–Ω –ø—Ä–∏ –∫–µ—à–∞—É—Ç–µ, –∑–¥–µ—Å—å —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏–∫–∞ –æ—Ç–≤–µ—Ç–∞
                                    
                                    console.log(`üí∞ –ö–µ—à-–∞—É—Ç: ${currentMultiplier.toFixed(2)}x, –≤—ã–∏–≥—Ä—ã—à: ${winAmount} —Ü–µ–Ω—Ç–æ–≤ (${(winAmount / 100).toFixed(2)} EUR), –Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: ${ws.__currentBalance} —Ü–µ–Ω—Ç–æ–≤ (${(ws.__currentBalance / 100).toFixed(2)} EUR)`);
                                    console.log('üí∞ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç —Å –±–∞–ª–∞–Ω—Å–æ–º:', response.data.body.balance);
                                    
                                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –∫–µ—à–∞—É—Ç–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–≥—Ä–æ–π
                                    setTimeout(() => {
                                        console.log('üí∞ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –∫–µ—à–∞—É—Ç–∞...');
                                        
                                        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ —á–µ—Ä–µ–∑ ApplicationBase
                                        if (window.__gameApp && window.__gameApp.emit) {
                                            const cashoutEventData = {
                                                success: true,
                                                action: 'cashoutCommonDraw',
                                                balance: {
                                                    totalBalance: ws.__currentBalance,
                                                    currency: 'EUR',
                                                    currencyMultiplier: 100
                                                },
                                                result: {
                                                    win: winAmount,
                                                    multiplier: +currentMultiplier.toFixed(2),
                                                    cashedOut: true,
                                                    betAmount: totalBetAmount
                                                },
                                                betOption: {
                                                    bet1: betTypes.includes("bet1"),
                                                    bet2: betTypes.includes("bet2")
                                                }
                                            };
                                            
                                            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ –≤ WebSocket –º–æ–∫–µ
                                            if (ws.__roundState) {
                                                ws.__roundState.cashoutExecuted = false;
                                                console.log('üîÑ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å–±—Ä–æ—à–µ–Ω –≤ WebSocket –º–æ–∫–µ');
                                            }
                                            
                                            console.log('üí∞ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ RECEIVE_COMMON_DRAW_CASHOUT:', cashoutEventData);
                                            window.__gameApp.emit('RECEIVE_COMMON_DRAW_CASHOUT', cashoutEventData);
                                            
                                            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –ø–æ—Å–ª–µ –∫–µ—à–∞—É—Ç–∞
                                            setTimeout(() => {
                                                if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                    const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                    if (sceneInstance && sceneInstance.__betButtonsBlocked) {
                                                        console.log('üîì –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –ø–æ—Å–ª–µ –∫–µ—à–∞—É—Ç–∞...');
                                                        sceneInstance.__betButtonsBlocked = false;
                                                        
                                                        // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Å—Ç–∞–≤–æ–∫ —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                                        if (sceneInstance.first_bet_button) {
                                                            sceneInstance.first_bet_button.updateButtonState(true);
                                                            sceneInstance.first_bet_button.interactive = true;
                                                            sceneInstance.first_bet_button.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        if (sceneInstance.second_bet_button) {
                                                            sceneInstance.second_bet_button.updateButtonState(true);
                                                            sceneInstance.second_bet_button.interactive = true;
                                                            sceneInstance.second_bet_button.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        if (sceneInstance.third_bet_button) {
                                                            sceneInstance.third_bet_button.updateButtonState(true);
                                                            sceneInstance.third_bet_button.interactive = true;
                                                            sceneInstance.third_bet_button.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        if (sceneInstance.fourth_bet_button) {
                                                            sceneInstance.fourth_bet_button.updateButtonState(true);
                                                            sceneInstance.fourth_bet_button.interactive = true;
                                                            sceneInstance.fourth_bet_button.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        
                                                        // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ +/- —Å—Ç–∞–≤–æ–∫ —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                                        if (sceneInstance.bet_minus_btn) {
                                                            sceneInstance.bet_minus_btn.updateButtonState(true);
                                                            sceneInstance.bet_minus_btn.interactive = true;
                                                            sceneInstance.bet_minus_btn.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        if (sceneInstance.bet_plus_btn) {
                                                            sceneInstance.bet_plus_btn.updateButtonState(true);
                                                            sceneInstance.bet_plus_btn.interactive = true;
                                                            sceneInstance.bet_plus_btn.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        
                                                        // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç–∞ —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                                        if (sceneInstance.autoCashOutToggle1) {
                                                            sceneInstance.autoCashOutToggle1.interactive = true;
                                                            sceneInstance.autoCashOutToggle1.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        
                                                        // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É BET
                                                        if (sceneInstance.bet_btn_first) {
                                                            sceneInstance.bet_btn_first.updateButtonState(true);
                                                            sceneInstance.bet_btn_first.interactive = true;
                                                            sceneInstance.bet_btn_first.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        
                                                        // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏ —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                                        if (sceneInstance.first_bet_button_2) {
                                                            sceneInstance.first_bet_button_2.updateButtonState(true);
                                                            sceneInstance.first_bet_button_2.interactive = true;
                                                            sceneInstance.first_bet_button_2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        if (sceneInstance.second_bet_button_2) {
                                                            sceneInstance.second_bet_button_2.updateButtonState(true);
                                                            sceneInstance.second_bet_button_2.interactive = true;
                                                            sceneInstance.second_bet_button_2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        if (sceneInstance.third_bet_button_2) {
                                                            sceneInstance.third_bet_button_2.updateButtonState(true);
                                                            sceneInstance.third_bet_button_2.interactive = true;
                                                            sceneInstance.third_bet_button_2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        if (sceneInstance.fourth_bet_button_2) {
                                                            sceneInstance.fourth_bet_button_2.updateButtonState(true);
                                                            sceneInstance.fourth_bet_button_2.interactive = true;
                                                            sceneInstance.fourth_bet_button_2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        
                                                        if (sceneInstance.bet_minus_btn_2) {
                                                            sceneInstance.bet_minus_btn_2.updateButtonState(true);
                                                            sceneInstance.bet_minus_btn_2.interactive = true;
                                                            sceneInstance.bet_minus_btn_2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        if (sceneInstance.bet_plus_btn_2) {
                                                            sceneInstance.bet_plus_btn_2.updateButtonState(true);
                                                            sceneInstance.bet_plus_btn_2.interactive = true;
                                                            sceneInstance.bet_plus_btn_2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        
                                                        if (sceneInstance.autoCashOutToggle2) {
                                                            sceneInstance.autoCashOutToggle2.interactive = true;
                                                            sceneInstance.autoCashOutToggle2.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        
                                                        // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É BET –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏
                                                        if (sceneInstance.bet_btn_second) {
                                                            sceneInstance.bet_btn_second.updateButtonState(true);
                                                            sceneInstance.bet_btn_second.interactive = true;
                                                            sceneInstance.bet_btn_second.alpha = 1.0; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è—Ä–∫–æ—Å—Ç—å
                                                        }
                                                        
                                                        console.log('‚úÖ –ö–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –ø–æ—Å–ª–µ –∫–µ—à–∞—É—Ç–∞');
                                                        
                                                        // –ù–ï –í–´–ó–´–í–ê–ï–ú enablePanel –ø–æ—Å–ª–µ –∫–µ—à–∞—É—Ç–∞ - —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—á–∞–ª–µ –Ω–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞
                                                    }
                                                }
                                            }, 1000); // –ó–∞–¥–µ—Ä–∂–∫–∞ 1 —Å–µ–∫—É–Ω–¥–∞ –ø–æ—Å–ª–µ –∫–µ—à–∞—É—Ç–∞
                                            
                                            // –¢–∞–∫–∂–µ –ø—ã—Ç–∞–µ–º—Å—è –≤—ã–∑–≤–∞—Ç—å handleCommonDrawGameCashout –Ω–∞–ø—Ä—è–º—É—é
                                            if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                if (sceneInstance && sceneInstance.handleCommonDrawGameCashout) {
                                                    console.log('üí∞ –¢–∞–∫–∂–µ –≤—ã–∑—ã–≤–∞–µ–º handleCommonDrawGameCashout –Ω–∞–ø—Ä—è–º—É—é');
                                                    try {
                                                        sceneInstance.handleCommonDrawGameCashout(cashoutEventData);
                                                    } catch (error) {
                                                        console.error('üí∞ –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ handleCommonDrawGameCashout:', error);
                                                    }
                                                }
                                            }
                                        }
                                    }, 100);
                                    
                                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∞–≤–∫–∏ –ø–æ—Å–ª–µ –∫–µ—à–∞—É—Ç–∞
                                    setTimeout(() => {
                                        if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                            const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                            if (sceneInstance && sceneInstance.betData) {
                                                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—Ç–∞–≤–∫–∏
                                                if (betTypes.includes("bet1") && sceneInstance.betData.bet1) {
                                                    sceneInstance.betData.bet1.stake = 0;
                                                    sceneInstance.isfirstBetActive = false;
                                                    sceneInstance.totalBetAdded_1 = 0;
                                                    console.log('üí∞ –°—Ç–∞–≤–∫–∞ 1 —Å–±—Ä–æ—à–µ–Ω–∞ –ø–æ—Å–ª–µ –∫–µ—à–∞—É—Ç–∞');
                                                }
                                                if (betTypes.includes("bet2") && sceneInstance.betData.bet2) {
                                                    sceneInstance.betData.bet2.stake = 0;
                                                    sceneInstance.isSecondBetActive = false;
                                                    sceneInstance.totalBetAdded_2 = 0;
                                                    console.log('üí∞ –°—Ç–∞–≤–∫–∞ 2 —Å–±—Ä–æ—à–µ–Ω–∞ –ø–æ—Å–ª–µ –∫–µ—à–∞—É—Ç–∞');
                                                }
                                                
                                                // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç–∞–≤–æ–∫ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å—Ç–∞–≤–æ–∫
                                                if (sceneInstance.betData && sceneInstance.betData.bet1) {
                                                    sceneInstance.betData.bet1.stake = 0;
                                                    sceneInstance.isfirstBetActive = false;
                                                    sceneInstance.totalBetAdded_1 = 0;
                                                }
                                                if (sceneInstance.betData && sceneInstance.betData.bet2) {
                                                    sceneInstance.betData.bet2.stake = 0;
                                                    sceneInstance.isSecondBetActive = false;
                                                    sceneInstance.totalBetAdded_2 = 0;
                                                }
                                                
                                                // –û–±–Ω–æ–≤–ª—è–µ–º UI —Å—Ç–∞–≤–æ–∫
                                                if (sceneInstance.updateBetDisplay) {
                                                    sceneInstance.updateBetDisplay();
                                                }
                                                
                                                // –í—ã–∑—ã–≤–∞–µ–º enablePanel –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫
                                                if (sceneInstance.enablePanel) {
                                                    sceneInstance.enablePanel();
                                                    console.log('üí∞ –í—ã–∑–≤–∞–Ω enablePanel –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Å–ª–µ –∫–µ—à–∞—É—Ç–∞');
                                                }
                                                
                                                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞—É–Ω–¥–∞
                                                sceneInstance.__cashoutExecuted = false;
                                                console.log('üîÑ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å–±—Ä–æ—à–µ–Ω –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞—É–Ω–¥–∞');
                                            }
                                        }
                                    }, 100); // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
                                    
                                } else if (message.cmd === 'game') {
                                    const operation = message.data?.body?.op || 'unknown';
                                    
                                    if (operation === 'spin' || operation === 'bet') {
                                        // –í—ã—á–∏—Ç–∞–µ–º —Å—Ç–∞–≤–∫—É –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞
                                        const betAmount = message.data?.body?.stake || 100;
                                        ws.__currentBalance -= betAmount;
                                        
                                        response.data.body = {
                                            success: true,
                                            currency: 'EUR',
                                            balance: {
                                                totalBalance: ws.__currentBalance,
                                                currency: 'EUR',
                                                currencyMultiplier: 100
                                            },
                                            result: {
                                                win: 0,
                                                multiplier: 1.00,
                                                betAmount: betAmount
                                            }
                                        };
                                        console.log(`üéØ –°—Ç–∞–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞: ${betAmount}, –Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: ${ws.__currentBalance}`);
                                    } else if (operation === 'cashout' || operation === 'cash_out' || operation === 'withdraw') {
                                        const currentMultiplier = this.__roundState?.multiplier || 1.25;
                                        const betAmount = message.data?.body?.betAmount || message.data?.body?.stake || 100;
                                        const winAmount = Math.floor(currentMultiplier * betAmount);
                                        
                                        // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–∏–≥—Ä—ã—à –∫ —Ç–µ–∫—É—â–µ–º—É –±–∞–ª–∞–Ω—Å—É
                                        ws.__currentBalance += winAmount;
                                        
                                        response.data.body = {
                                            success: true,
                                            currency: 'EUR',
                                            balance: {
                                                totalBalance: ws.__currentBalance,
                                                currency: 'EUR',
                                                currencyMultiplier: 100
                                            },
                                            result: {
                                                win: winAmount,
                                                multiplier: +currentMultiplier.toFixed(2),
                                                cashedOut: true,
                                                betAmount: betAmount
                                            }
                                        };
                                        console.log(`üí∞ –ö–µ—à-–∞—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω: ${currentMultiplier.toFixed(2)}x, –≤—ã–∏–≥—Ä—ã—à: ${winAmount}`);
                                    } else if (operation === 'loadConfig') {
                                        response.data.body = {
                                            success: true,
                                            config: {
                                                gameId: 'playzia-bananabonanza',
                                                currency: 'EUR',
                                                minBet: 1,
                                                maxBet: 1000
                                            }
                                        };
                                        console.log('‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
                                    }
                                }
                                
                                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç
                                if (response && this.readyState === 1) {
                                    // –í—ã–∑—ã–≤–∞–µ–º onmessage –Ω–∞–ø—Ä—è–º—É—é, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –Ω–∞—Å—Ç–æ—è—â–∏–π WebSocket
                                    if (this.onmessage) {
                                        this.onmessage({ data: JSON.stringify(response) });
                                    }
                                    console.log('üì§ WebSocket –º–æ–∫ –æ—Ç–≤–µ—á–∞–µ—Ç:', response);
                                }
                                
                            } catch (error) {
                                console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è:', error);
                            }
                        };
                        
                        // –î–ª—è systemping –æ—Ç–≤–µ—á–∞–µ–º –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
                        if (message.cmd === 'systemping') {
                            respondImmediately();
                        } else {
                            setTimeout(respondImmediately, 10); // –û—Ç–≤–µ—á–∞–µ–º –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ
                        }
                        
                        // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
                        console.log('üì• –ü–∞—Ä—Å–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ:', message);
                    }
                    
                    close(code = 1000, reason = '') { 
                        console.log('üîå –ó–∞–∫—Ä—ã–≤–∞–µ–º WebSocket –º–æ–∫');
                        this.__closed = true; 
                        this.__isInitialized = false;
                        this.readyState = 3; // CLOSED
                        
                        // –û—á–∏—â–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞—É–Ω–¥–∞
                        if (this.__roundState) {
                            this.__roundState = null;
                        }
                        
                        listeners(this).close(); 
                    }
                    
                    addEventListener(type, listener, options) {
                        if (type === 'open') this.onopen = listener;
                        if (type === 'message') this.onmessage = listener;
                        if (type === 'close') this.onclose = listener;
                        if (type === 'error') this.onerror = listener;
                    }
                    
                    removeEventListener(type, listener, options) {
                        if (type === 'open') this.onopen = null;
                        if (type === 'message') this.onmessage = null;
                        if (type === 'close') this.onclose = null;
                        if (type === 'error') this.onerror = null;
                    }
                }

                // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã WebSocket
                MockWebSocket.CONNECTING = 0;
                MockWebSocket.OPEN = 1;
                MockWebSocket.CLOSING = 2;
                MockWebSocket.CLOSED = 3;

                // –ü–µ—Ä–µ–∫—Ä—ã–≤–∞–µ–º WebSocket –ì–õ–û–ë–ê–õ–¨–ù–û
                window.WebSocket = MockWebSocket;
                window.MozWebSocket = MockWebSocket; // –î–ª—è Firefox
                
                console.log('‚úÖ WebSocket –º–æ–∫ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ –∏–≥—Ä–µ!');
                
                            // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–π
                            window.__testAnimations = function() {
                                console.log('üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π...');
                                
                                console.log('1Ô∏è‚É£ –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ idle...');
                                window.__setAnimationPhase('idle');
                                
                                setTimeout(() => {
                                    console.log('2Ô∏è‚É£ –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ rising...');
                                    window.__setAnimationPhase('rising');
                                }, 2000);
                                
                                setTimeout(() => {
                                    console.log('3Ô∏è‚É£ –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ crashed...');
                                    window.__setAnimationPhase('crashed');
                                }, 4000);
                                
                                setTimeout(() => {
                                    console.log('4Ô∏è‚É£ –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞ idle...');
                                    window.__setAnimationPhase('idle');
                                }, 6000);
                            };
                            
                            // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏—è—Ö
                            window.__debugAnimations = function() {
                                console.log('üîç –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–Ω–∏–º–∞—Ü–∏—è—Ö:');
                                console.log('–¢–µ–∫—É—â–∞—è —Ñ–∞–∑–∞:', window.__animationState.currentPhase);
                                console.log('–ù–∞–π–¥–µ–Ω–æ Spine –∞–Ω–∏–º–∞—Ü–∏–π:', window.__animationState.spineAnimations.length);
                                
                                window.__animationState.spineAnimations.forEach((anim, index) => {
                                    if (anim.skeleton && anim.skeleton.data && anim.skeleton.data.animations) {
                                        const animNames = anim.skeleton.data.animations.map(a => a.name);
                                        console.log(`–ê–Ω–∏–º–∞—Ü–∏—è ${index}: ${animNames.join(', ')}`);
                                        
                                        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
                                        if (anim.state && anim.state.tracks && anim.state.tracks.length > 0) {
                                            const currentTrack = anim.state.tracks[0];
                                            if (currentTrack && currentTrack.animation) {
                                                console.log(`  ‚Üí –¢–µ–∫—É—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è: ${currentTrack.animation.name}`);
                                                console.log(`  ‚Üí –ó–∞—Ü–∏–∫–ª–µ–Ω–Ω–∞—è: ${currentTrack.loop}`);
                                                console.log(`  ‚Üí –í—Ä–µ–º—è: ${currentTrack.trackTime.toFixed(2)}s`);
                                            }
                                        }
                                    }
                                });
                            };
                            
                            // –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ multiply –∞–Ω–∏–º–∞—Ü–∏–∏
                            window.__forceMultiplyAnimation = function() {
                                console.log('üîß –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ–º multiply –∞–Ω–∏–º–∞—Ü–∏—é...');
                                window.__animationState.spineAnimations.forEach((anim, index) => {
                                    if (anim.skeleton && anim.skeleton.data && anim.skeleton.data.animations) {
                                        const multiplyAnim = anim.skeleton.data.animations.find(a => 
                                            a.name.includes('multiply') || a.name.includes('transition')
                                        );
                                        if (multiplyAnim && anim.state) {
                                            anim.state.setAnimation(0, multiplyAnim.name, true);
                                            console.log(`üöÄ –ó–∞–ø—É—â–µ–Ω–∞ ${multiplyAnim.name} –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ ${index}`);
                                        }
                                    }
                                });
                            };
                            
                            // –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ë–ï–ó–û–ü–ê–°–ù–û–ô –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–Ω–∞–Ω–∞
                            window.__debugBananaVisibility = function() {
                                console.log('üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –±–∞–Ω–∞–Ω–∞...');
                                window.__animationState.spineAnimations.forEach((anim, index) => {
                                    try {
                                        console.log(`üçå –ê–Ω–∏–º–∞—Ü–∏—è ${index}:`);
                                        console.log(`  ‚Üí –í–∏–¥–∏–º—ã–π: ${anim.visible}`);
                                        console.log(`  ‚Üí –ê–ª—å—Ñ–∞: ${anim.alpha}`);
                                        console.log(`  ‚Üí –ü–æ–∑–∏—Ü–∏—è: x=${anim.x}, y=${anim.y}`);
                                        console.log(`  ‚Üí –ú–∞—Å—à—Ç–∞–±: scaleX=${anim.scale?.x}, scaleY=${anim.scale?.y}`);
                                        
                                        if (anim.state && anim.state.tracks && anim.state.tracks[0]) {
                                            const track = anim.state.tracks[0];
                                            console.log(`  ‚Üí –¢–µ–∫—É—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è: ${track.animation?.name}`);
                                            console.log(`  ‚Üí –í—Ä–µ–º—è: ${track.trackTime.toFixed(2)}s`);
                                            console.log(`  ‚Üí –ó–∞—Ü–∏–∫–ª–µ–Ω–Ω–∞—è: ${track.loop}`);
                                        }
                                    } catch (e) {
                                        console.log(`‚ö†Ô∏è –û—à–∏–±–∫–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ ${index}:`, e);
                                    }
                                });
                            };
                            
                            // –î–æ–±–∞–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ë–ï–ó–û–ü–ê–°–ù–û–ì–û –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–Ω–∞–Ω–∞
                            window.__fixBananaVisibility = function() {
                                console.log('üîß –ë–ï–ó–û–ü–ê–°–ù–û –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å –±–∞–Ω–∞–Ω–∞...');
                                window.__animationState.spineAnimations.forEach((anim, index) => {
                                    try {
                                        // –¢–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
                                        if (anim.visible !== undefined) {
                                            anim.visible = true;
                                        }
                                        if (anim.alpha !== undefined) {
                                            anim.alpha = 1.0;
                                        }
                                        
                                        // –û—á–µ–Ω—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ —Å –º–∞—Å—à—Ç–∞–±–æ–º
                                        if (anim.scale && anim.scale.x !== undefined && anim.scale.y !== undefined) {
                                            if (anim.scale.x === 0) anim.scale.x = 1.0;
                                            if (anim.scale.y === 0) anim.scale.y = 1.0;
                                        }
                                        
                                        // –ù–ï –¢–†–û–ì–ê–ï–ú –∫–æ—Å—Ç–∏ - —ç—Ç–æ –º–æ–∂–µ—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å transform
                                        console.log(`üçå –ë–∞–Ω–∞–Ω ${index} –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω`);
                                    } catch (e) {
                                        console.log(`‚ö†Ô∏è –û—à–∏–±–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–Ω–∞–Ω–∞ ${index}:`, e);
                                    }
                                });
                            };
                            
                            // –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏
                            if (window.parent && window.parent !== window) {
                                window.parent.__debugBananaVisibility = window.__debugBananaVisibility;
                                window.parent.__fixBananaVisibility = window.__fixBananaVisibility;
                                window.parent.__debugAnimations = window.__debugAnimations;
                                window.parent.__forceMultiplyAnimation = window.__forceMultiplyAnimation;
                                window.parent.__setAnimationPhase = window.__setAnimationPhase;
                                console.log('‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ –æ–∫–Ω–æ');
                            }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
                window.__debugGame = function() {
                    console.log('üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏–≥—Ä—ã:');
                    console.log('DO –æ–±—ä–µ–∫—Ç:', window.DO);
                    console.log('Game App:', window.__gameApp);
                    console.log('Game Renderer:', window.__gameRenderer);
                    
                    if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                        const scene = window.__gameRenderer.SceneManager.getCurrentScene();
                        console.log('–¢–µ–∫—É—â–∞—è —Å—Ü–µ–Ω–∞:', scene);
                        
                        if (scene && scene.children) {
                            scene.children.forEach((child, i) => {
                                if (child.skeleton && child.skeleton.data) {
                                    console.log(`Spine ${i} –∞–Ω–∏–º–∞—Ü–∏–∏:`, 
                                        child.skeleton.data.animations.map(a => a.name)
                                    );
                                }
                            });
                        }
                    }
                };
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏–º—É–ª—è—Ü–∏—é —Ä–∞—É–Ω–¥–æ–≤ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
                setTimeout(() => {
                    console.log('üé≤ –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏–º—É–ª—è—Ü–∏—é —Ä–∞—É–Ω–¥–æ–≤...');
                    window.__startGameRounds = true;
                    
                        // –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –∏–≥—Ä–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –ø—Ä—è–º–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
                        setTimeout(() => {
                            console.log('üîç –ò—â–µ–º –∏–≥—Ä–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã...');
                            if (window.DO && window.DO.Common && window.DO.Common.ApplicationBase) {
                                console.log('‚úÖ –ù–∞–π–¥–µ–Ω DO.Common.ApplicationBase');
                                window.__gameApp = window.DO.Common.ApplicationBase.instance;
                                
                                // –°–†–ê–ó–£ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–µ—à–∞—É—Ç–∞
                                if (window.__gameApp && window.__gameApp.on) {
                                    console.log('üí∞ –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–µ—à–∞—É—Ç–∞...');
                                    
                                    // –õ–æ–≥–∏—Ä—É–µ–º –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–æ–±—ã—Ç–∏–π
                                    console.log('üîç DO.Common.Server:', window.DO && window.DO.Common && window.DO.Common.Server);
                                    if (window.DO && window.DO.Common && window.DO.Common.Server) {
                                        console.log('üîç –í—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ DO.Common.Server:', Object.keys(window.DO.Common.Server));
                                    }
                                    
                                    window.__gameApp.on('SEND_CASHOUT_COMMON_DRAW_REQUEST', (data) => {
                                        console.log('üí∞ –ü–æ–ª—É—á–µ–Ω –∑–∞–ø—Ä–æ—Å –∫–µ—à–∞—É—Ç–∞:', data);
                                        console.log('üí∞ Event listener: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∫–µ—à–∞—É—Ç–∞:', JSON.stringify(data, null, 2));
                                        console.log('üí∞ Event listener: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–µ—à–∞—É—Ç...');
                                        
                                        // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–µ—à–∞—É—Ç
                                        setTimeout(() => {
                                            if (ws.__roundState && ws.__roundState.phase === 'active') {
                                                const currentMultiplier = ws.__roundState.multiplier;
                                                const betTypes = data.betData?.bet || [];
                                                
                                                // –ü–æ–ª—É—á–∞–µ–º —Å—É–º–º—É —Å—Ç–∞–≤–∫–∏
                                                let totalBetAmount = 0;
                                                if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                    const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                    if (sceneInstance && sceneInstance.betData) {
                                                        if (betTypes.includes("bet1") && sceneInstance.betData.bet1) {
                                                            totalBetAmount += sceneInstance.betData.bet1.stake || 0;
                                                        }
                                                        if (betTypes.includes("bet2") && sceneInstance.betData.bet2) {
                                                            totalBetAmount += sceneInstance.betData.bet2.stake || 0;
                                                        }
                                                    }
                                                }
                                                
                                                const winAmount = Math.floor(currentMultiplier * totalBetAmount);
                                                
                                                // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–∏–≥—Ä—ã—à –∫ —Ç–µ–∫—É—â–µ–º—É –±–∞–ª–∞–Ω—Å—É
                                                ws.__currentBalance += winAmount;
                                                
                                                console.log(`üí∞ –ö–µ—à-–∞—É—Ç: ${currentMultiplier.toFixed(2)}x, –≤—ã–∏–≥—Ä—ã—à: ${winAmount} —Ü–µ–Ω—Ç–æ–≤ (${(winAmount / 100).toFixed(2)} EUR), –Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: ${ws.__currentBalance} —Ü–µ–Ω—Ç–æ–≤ (${(ws.__currentBalance / 100).toFixed(2)} EUR)`);
                                                
                                                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –∫–µ—à–∞—É—Ç–∞
                                                const cashoutEventData = {
                                                    success: true,
                                                    action: 'cashoutCommonDraw',
                                                    balance: {
                                                        totalBalance: ws.__currentBalance,
                                                        currency: 'EUR',
                                                        currencyMultiplier: 100
                                                    },
                                                    result: {
                                                        win: winAmount,
                                                        multiplier: +currentMultiplier.toFixed(2),
                                                        cashedOut: true,
                                                        betAmount: totalBetAmount
                                                    },
                                                    betOption: {
                                                        bet1: betTypes.includes("bet1"),
                                                        bet2: betTypes.includes("bet2")
                                                    }
                                                };
                                                
                                                console.log('üí∞ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ RECEIVE_COMMON_DRAW_CASHOUT:', cashoutEventData);
                                                window.__gameApp.emit('RECEIVE_COMMON_DRAW_CASHOUT', cashoutEventData);
                                                
                                                // –í—ã–∑—ã–≤–∞–µ–º handleCommonDrawGameCashout –Ω–∞–ø—Ä—è–º—É—é
                                                if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                    const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                    console.log('üí∞ sceneInstance –¥–ª—è handleCommonDrawGameCashout:', sceneInstance);
                                                    console.log('üí∞ handleCommonDrawGameCashout —Ñ—É–Ω–∫—Ü–∏—è:', sceneInstance && sceneInstance.handleCommonDrawGameCashout);
                                                    
                                                    if (sceneInstance && sceneInstance.handleCommonDrawGameCashout) {
                                                        console.log('üí∞ –í—ã–∑—ã–≤–∞–µ–º handleCommonDrawGameCashout –Ω–∞–ø—Ä—è–º—É—é —Å –¥–∞–Ω–Ω—ã–º–∏:', cashoutEventData);
                                                        try {
                                                            const result = sceneInstance.handleCommonDrawGameCashout(cashoutEventData);
                                                            console.log('üí∞ handleCommonDrawGameCashout –≤–µ—Ä–Ω—É–ª:', result);
                                                        } catch (error) {
                                                            console.error('üí∞ –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ handleCommonDrawGameCashout:', error);
                                                        }
                                                    } else {
                                                        console.log('üí∞ handleCommonDrawGameCashout –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω!');
                                                        console.log('üí∞ –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã sceneInstance:', sceneInstance ? Object.getOwnPropertyNames(sceneInstance) : 'sceneInstance is null');
                                                    }
                                                } else {
                                                    console.log('üí∞ SceneManager –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è handleCommonDrawGameCashout');
                                                }
                                                
                                                // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ DOM
                                                console.log('üí∞ –ü—ã—Ç–∞–µ–º—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ DOM...');
                                                const balanceElements = [
                                                    '#cp_balance',
                                                    '.balance',
                                                    '[data-balance]',
                                                    '.total-balance',
                                                    '#balance',
                                                    '.current-balance'
                                                ];
                                                
                                                let balanceUpdated = false;
                                                balanceElements.forEach(selector => {
                                                    const element = document.querySelector(selector);
                                                    if (element) {
                                                        const newBalance = (ws.__currentBalance / 100).toFixed(2);
                                                        element.textContent = newBalance;
                                                        console.log(`üí∞ –û–±–Ω–æ–≤–ª–µ–Ω –±–∞–ª–∞–Ω—Å –≤ ${selector}: ${newBalance}`);
                                                        balanceUpdated = true;
                                                    }
                                                });
                                                
                                                if (!balanceUpdated) {
                                                    console.log('üí∞ –ù–µ –Ω–∞–π–¥–µ–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã –±–∞–ª–∞–Ω—Å–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è');
                                                    console.log('üí∞ –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–º "balance":', 
                                                        Array.from(document.querySelectorAll('*')).filter(el => 
                                                            el.textContent && el.textContent.toLowerCase().includes('balance')
                                                        ).map(el => ({ tag: el.tagName, text: el.textContent.trim().substring(0, 50) }))
                                                    );
                                                }
                                                
                                                // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–∫–∞–∑–∞—Ç—å WIN —á–µ—Ä–µ–∑ DOM
                                                console.log('üí∞ –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–∫–∞–∑–∞—Ç—å WIN —á–µ—Ä–µ–∑ DOM...');
                                                const winElements = [
                                                    '#cp_win',
                                                    '.win-popup',
                                                    '.win-message',
                                                    '[data-win]',
                                                    '.win-amount'
                                                ];
                                                
                                                let winShown = false;
                                                winElements.forEach(selector => {
                                                    const element = document.querySelector(selector);
                                                    if (element) {
                                                        const winAmountDisplay = (winAmount / 100).toFixed(2);
                                                        element.textContent = winAmountDisplay;
                                                        element.style.display = 'block';
                                                        element.style.visibility = 'visible';
                                                        console.log(`üí∞ –ü–æ–∫–∞–∑–∞–Ω WIN –≤ ${selector}: ${winAmountDisplay}`);
                                                        winShown = true;
                                                    }
                                                });
                                                
                                                if (!winShown) {
                                                    console.log('üí∞ –ù–µ –Ω–∞–π–¥–µ–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã WIN –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è');
                                                }
                                            }
                                        }, 100);
                                    });
                                }
                                
                                    // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è —Å—Ç–∞–≤–æ–∫ –∏ –∫–µ—à–∞—É—Ç–∞
                                    if (window.__gameApp && window.__gameApp.on) {
                                        console.log('üéØ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–µ—Ä–µ—Ö–≤–∞—Ç –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π...');
                                        
                                        // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
                                        if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                            const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                            if (sceneInstance) {
                                                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è progress_message
                                                sceneInstance.isFirstTimeLoad = true;
                                                sceneInstance.loaderStarted = false;
                                                sceneInstance.isRoundCounterStarted = false;
                                                
                                                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º betData –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
                                                if (!sceneInstance.betData) {
                                                    sceneInstance.betData = { 
                                                        bet1: { stake: 0, autoCashOutMultiplier: 0 }, 
                                                        bet2: { stake: 0, autoCashOutMultiplier: 0 } 
                                                    };
                                                }
                                                
                                                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–µ—à–∞—É—Ç–∞
                                                if (sceneInstance.cash_out_btn_text) {
                                                    sceneInstance.cash_out_btn_text.visible = false;
                                                }
                                                if (sceneInstance.cash_out_btn_2_text) {
                                                    sceneInstance.cash_out_btn_2_text.visible = false;
                                                }
                                                
                                                console.log('üîÑ –°–±—Ä–æ—à–µ–Ω—ã —Ñ–ª–∞–≥–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è UI');
                                            }
                                        }
                                        
                                        // –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ–±–ª–µ–º—É —Å –∏–∫–æ–Ω–∫–æ–π –∑–≤—É–∫–∞
                                        const fixAudioButton = () => {
                                            const audioButton = document.querySelector('#button_audio');
                                            const audioButtonScreen = document.querySelector('#button_audio_screen');
                                            if (audioButton) {
                                                audioButton.style.display = 'block';
                                                audioButton.style.visibility = 'visible';
                                                audioButton.style.opacity = '1';
                                                audioButton.style.pointerEvents = 'all';
                                            }
                                            if (audioButtonScreen) {
                                                audioButtonScreen.style.display = 'block';
                                                audioButtonScreen.style.visibility = 'visible';
                                                audioButtonScreen.style.opacity = '1';
                                                audioButtonScreen.style.pointerEvents = 'all';
                                            }
                                        };
                                        
                                        // –ò—Å–ø—Ä–∞–≤–ª—è–µ–º —Å—Ä–∞–∑—É –∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã (–±–µ–∑ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
                                        fixAudioButton();
                                        setTimeout(fixAudioButton, 1000);
                                        setTimeout(fixAudioButton, 3000);
                                        setInterval(fixAudioButton, 5000);
                                        console.log('üîä –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ –∑–≤—É–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ');
                                        
                                        // –î–æ–±–∞–≤–ª—è–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Å—Ç–∞–≤–æ–∫ –∏ –∫–µ—à–∞—É—Ç–∞
                                        const addButtonLogging = () => {
                                            console.log('üîß addButtonLogging –≤—ã–∑–≤–∞–Ω–∞');
                                            if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                if (sceneInstance) {
                                                    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Å—Ç–∞–≤–æ–∫ (–≤–∫–ª—é—á–µ–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
                                                    console.log('üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫...');
                                                    console.log('üîç bet_btn_first:', sceneInstance.bet_btn_first);
                                                    console.log('üîç bet_btn_second:', sceneInstance.bet_btn_second);
                                                    
                                                    if (sceneInstance.bet_btn_first) {
                                                        // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä—è–º—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ BET
                                                        const blockAllButtons = () => {
                                                            try {
                                                                console.log('üé≤ –ü—Ä—è–º–æ–π –∫–ª–∏–∫ –ø–æ bet_btn_first!');
                                                                // –ù–ï –ë–õ–û–ö–ò–†–£–ï–ú –°–†–ê–ó–£ - —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É–µ–º
                                                                console.log('üîç –ö–ª–∏–∫ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –±—É–¥–µ—Ç –ø–æ—Å–ª–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏');
                                                                
                                                                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ —á—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
                                                                sceneInstance.__needBlockAfterOriginal = true;
                                                            } catch (error) {
                                                                console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –≤ blockAllButtons:', error);
                                                            }
                                                        };
                                                        
                                                        // –ê–ì–†–ï–°–°–ò–í–ù–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê - –¥–æ–±–∞–≤–ª—è–µ–º –í–°–ï –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
                                                        sceneInstance.bet_btn_first.on('pointerdown', blockAllButtons);
                                                        sceneInstance.bet_btn_first.on('pointerup', blockAllButtons);
                                                        sceneInstance.bet_btn_first.on('click', blockAllButtons);
                                                        sceneInstance.bet_btn_first.on('tap', blockAllButtons);
                                                        sceneInstance.bet_btn_first.on('touchstart', blockAllButtons);
                                                        sceneInstance.bet_btn_first.on('touchend', blockAllButtons);
                                                        sceneInstance.bet_btn_first.on('mousedown', blockAllButtons);
                                                        sceneInstance.bet_btn_first.on('mouseup', blockAllButtons);
                                                        
                                                        // –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û - –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ addEventListener
                                                        if (sceneInstance.bet_btn_first.element) {
                                                            sceneInstance.bet_btn_first.element.addEventListener('click', blockAllButtons);
                                                            sceneInstance.bet_btn_first.element.addEventListener('mousedown', blockAllButtons);
                                                            sceneInstance.bet_btn_first.element.addEventListener('touchstart', blockAllButtons);
                                                        }
                                                        
                                                        console.log('‚úÖ –ê–ì–†–ï–°–°–ò–í–ù–´–ï –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ bet_btn_first');
                                                        
                                                        // –ì–õ–û–ë–ê–õ–¨–ù–´–ô –ü–ï–†–ï–•–í–ê–¢–ß–ò–ö - –±–ª–æ–∫–∏—Ä—É–µ–º –ø—Ä–∏ –ª—é–±–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏ —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Å—Ç–∞–≤–æ–∫
                                                        const globalBlockHandler = (event) => {
                                                            try {
                                                                if (event.target && event.target.textContent) {
                                                                    const text = event.target.textContent;
                                                                    if (text.includes('10.00') || text.includes('20.00') || 
                                                                        text.includes('50.00') || text.includes('100.00') || 
                                                                        text.includes('BET')) {
                                                                        console.log('üåê –ì–õ–û–ë–ê–õ–¨–ù–´–ô –ü–ï–†–ï–•–í–ê–¢–ß–ò–ö: –±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É —Å—Ç–∞–≤–∫–∏!');
                                                                        blockAllButtons();
                                                                    }
                                                                }
                                                            } catch (error) {
                                                                console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–µ:', error);
                                                            }
                                                        };
                                                        
                                                        // –î–æ–±–∞–≤–ª—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
                                                        setTimeout(() => {
                                                            document.addEventListener('click', globalBlockHandler);
                                                            document.addEventListener('mousedown', globalBlockHandler);
                                                            document.addEventListener('touchstart', globalBlockHandler);
                                                        }, 1000);
                                                        
                                                        const originalBetClick1 = sceneInstance.onBetButtonClick;
                                                        sceneInstance.onBetButtonClick = function(buttonId) {
                                                            console.log('üé≤ onBetButtonClick –≤—ã–∑–≤–∞–Ω —Å buttonId:', buttonId);
                                                            
                                                            // –°–ù–ê–ß–ê–õ–ê –í–´–ó–´–í–ê–ï–ú –û–†–ò–ì–ò–ù–ê–õ–¨–ù–£–Æ –§–£–ù–ö–¶–ò–Æ
                                                            if (originalBetClick1) {
                                                                console.log('üîÑ –í—ã–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é onBetButtonClick –°–ù–ê–ß–ê–õ–ê');
                                                                const result = originalBetClick1.call(this, buttonId);
                                                                
                                                                // –ü–û–¢–û–ú –ë–õ–û–ö–ò–†–£–ï–ú –ö–ù–û–ü–ö–ò –° –ó–ê–î–ï–†–ñ–ö–û–ô
                                                                setTimeout(() => {
                                                                    console.log('üîí –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –ü–û–°–õ–ï –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏...');
                                                                    sceneInstance.__betButtonsBlocked = true;
                                                                    
                                                                    // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É BET –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ
                                                                    if (sceneInstance.bet_btn_first) {
                                                                        sceneInstance.bet_btn_first.updateButtonState(false);
                                                                        console.log('üîí bet_btn_first –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞');
                                                                    }
                                                                    
                                                                    // –ë–ª–æ–∫–∏—Ä—É–µ–º –ø–∞–Ω–µ–ª—å –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ
                                                                    if (sceneInstance.disablePanelFirstBetPanel) {
                                                                        sceneInstance.disablePanelFirstBetPanel();
                                                                        console.log('üîí disablePanelFirstBetPanel –≤—ã–∑–≤–∞–Ω');
                                                                    }
                                                                    
                                                                    // –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê –í–°–ï–• –ö–ù–û–ü–û–ö
                                                                    const allButtons = [
                                                                        'first_bet_button', 'second_bet_button', 'third_bet_button', 'fourth_bet_button',
                                                                        'first_bet_button_2', 'second_bet_button_2', 'third_bet_button_2', 'fourth_bet_button_2',
                                                                        'plus_button', 'minus_button', 'plus_button_2', 'minus_button_2',
                                                                        'bet_plus_btn', 'bet_minus_btn', 'bet_plus_btn_2', 'bet_minus_btn_2',
                                                                        'autoCashOutToggle1', 'autoCashOutToggle2',
                                                                        'bet_btn_first', 'bet_btn_second'
                                                                    ];
                                                                    
                                                                    allButtons.forEach(buttonName => {
                                                                        if (sceneInstance[buttonName]) {
                                                                            sceneInstance[buttonName].interactive = false;
                                                                            // –î–µ–ª–∞–µ–º –∫–Ω–æ–ø–∫–∏ —Å–µ—Ä—ã–º–∏, –∞ –Ω–µ –±–µ—Å—Ü–≤–µ—Ç–Ω—ã–º–∏
                                                                            sceneInstance[buttonName].tint = 0x808080; // –°–µ—Ä—ã–π —Ü–≤–µ—Ç
                                                                            sceneInstance[buttonName].alpha = 1.0; // –ü–æ–ª–Ω–∞—è –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
                                                                            console.log(`üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ ${buttonName} (—Å–µ—Ä—ã–π —Ü–≤–µ—Ç)`);
                                                                        }
                                                                    });
                                                                    
                                                                    console.log('üîí –í–°–ï –ö–ù–û–ü–ö–ò –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–´ –ü–û–°–õ–ï –û–†–ò–ì–ò–ù–ê–õ–¨–ù–û–ô –§–£–ù–ö–¶–ò–ò!');
                                                                }, 100); // –ó–∞–¥–µ—Ä–∂–∫–∞ 100–º—Å
                                                                
                                                                return result;
                                                            } else {
                                                                console.log('‚ùå –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è onBetButtonClick –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                                                            }
                                                            
                                                            // –î–£–ë–õ–ò–†–£–Æ–©–ò–ô –ö–û–î –£–î–ê–õ–ï–ù - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —É–∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã—à–µ
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Å—Ç–∞–≤–æ–∫ —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
                                                            if (sceneInstance.first_bet_button) {
                                                                sceneInstance.first_bet_button.updateButtonState(false);
                                                                sceneInstance.first_bet_button.interactive = false;
                                                                sceneInstance.first_bet_button.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ first_bet_button');
                                                            }
                                                            if (sceneInstance.second_bet_button) {
                                                                sceneInstance.second_bet_button.updateButtonState(false);
                                                                sceneInstance.second_bet_button.interactive = false;
                                                                sceneInstance.second_bet_button.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ second_bet_button');
                                                            }
                                                            if (sceneInstance.third_bet_button) {
                                                                sceneInstance.third_bet_button.updateButtonState(false);
                                                                sceneInstance.third_bet_button.interactive = false;
                                                                sceneInstance.third_bet_button.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ third_bet_button');
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ +/- –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞–≤–∫–∏
                                                            if (sceneInstance.plus_button) {
                                                                sceneInstance.plus_button.interactive = false;
                                                                sceneInstance.plus_button.alpha = 0.5;
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ plus_button');
                                                            }
                                                            if (sceneInstance.minus_button) {
                                                                sceneInstance.minus_button.interactive = false;
                                                                sceneInstance.minus_button.alpha = 0.5;
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ minus_button');
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç
                                                            if (sceneInstance.autoCashOutToggle1) {
                                                                sceneInstance.autoCashOutToggle1.interactive = false;
                                                                sceneInstance.autoCashOutToggle1.alpha = 0.5;
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω autoCashOutToggle1');
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω—É—é –∫–Ω–æ–ø–∫—É BET
                                                            if (sceneInstance.bet_btn_first) {
                                                                sceneInstance.bet_btn_first.interactive = false;
                                                                sceneInstance.bet_btn_first.alpha = 0.5;
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ bet_btn_first');
                                                            }
                                                            if (sceneInstance.fourth_bet_button) {
                                                                sceneInstance.fourth_bet_button.updateButtonState(false);
                                                                sceneInstance.fourth_bet_button.interactive = false;
                                                                sceneInstance.fourth_bet_button.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ +/- —Å—Ç–∞–≤–æ–∫ —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
                                                            if (sceneInstance.bet_minus_btn) {
                                                                sceneInstance.bet_minus_btn.updateButtonState(false);
                                                                sceneInstance.bet_minus_btn.interactive = false;
                                                                sceneInstance.bet_minus_btn.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                            }
                                                            if (sceneInstance.bet_plus_btn) {
                                                                sceneInstance.bet_plus_btn.updateButtonState(false);
                                                                sceneInstance.bet_plus_btn.interactive = false;
                                                                sceneInstance.bet_plus_btn.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç–∞ —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
                                                            if (sceneInstance.autoCashOutToggle1) {
                                                                sceneInstance.autoCashOutToggle1.interactive = false;
                                                                sceneInstance.autoCashOutToggle1.alpha = 0.3; // –î–µ–ª–∞–µ–º –æ—á–µ–Ω—å —Å–µ—Ä—ã–º–∏
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É BET
                                                            if (sceneInstance.bet_btn_first) {
                                                                sceneInstance.bet_btn_first.updateButtonState(false);
                                                                sceneInstance.bet_btn_first.interactive = false;
                                                                sceneInstance.bet_btn_first.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                            }
                                                            
                                                            console.log('‚úÖ –ö–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã');
                                                            
                                                            if (originalBetClick1) {
                                                                console.log('üîÑ –í—ã–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é onBetButtonClick');
                                                                return originalBetClick1.call(this, buttonId);
                                                            } else {
                                                                console.log('‚ùå –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è onBetButtonClick –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                                                            }
                                                        };
                                                    }
                                                    
                                                    if (sceneInstance.bet_btn_second) {
                                                        // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä—è–º—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ BET
                                                        const blockAllButtons2 = () => {
                                                            try {
                                                                console.log('üé≤ –ü—Ä—è–º–æ–π –∫–ª–∏–∫ –ø–æ bet_btn_second!');
                                                                // –ù–ï –ë–õ–û–ö–ò–†–£–ï–ú –°–†–ê–ó–£ - —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É–µ–º
                                                                console.log('üîç –ö–ª–∏–∫ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –±—É–¥–µ—Ç –ø–æ—Å–ª–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏');
                                                                
                                                                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥ —á—Ç–æ –Ω—É–∂–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
                                                                sceneInstance.__needBlockAfterOriginal = true;
                                                            } catch (error) {
                                                                console.log('‚ö†Ô∏è –û—à–∏–±–∫–∞ –≤ blockAllButtons2:', error);
                                                            }
                                                        };
                                                        
                                                        // –ê–ì–†–ï–°–°–ò–í–ù–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê - –¥–æ–±–∞–≤–ª—è–µ–º –í–°–ï –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
                                                        sceneInstance.bet_btn_second.on('pointerdown', blockAllButtons2);
                                                        sceneInstance.bet_btn_second.on('pointerup', blockAllButtons2);
                                                        sceneInstance.bet_btn_second.on('click', blockAllButtons2);
                                                        sceneInstance.bet_btn_second.on('tap', blockAllButtons2);
                                                        sceneInstance.bet_btn_second.on('touchstart', blockAllButtons2);
                                                        sceneInstance.bet_btn_second.on('touchend', blockAllButtons2);
                                                        sceneInstance.bet_btn_second.on('mousedown', blockAllButtons2);
                                                        sceneInstance.bet_btn_second.on('mouseup', blockAllButtons2);
                                                        
                                                        // –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û - –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ addEventListener
                                                        if (sceneInstance.bet_btn_second.element) {
                                                            sceneInstance.bet_btn_second.element.addEventListener('click', blockAllButtons2);
                                                            sceneInstance.bet_btn_second.element.addEventListener('mousedown', blockAllButtons2);
                                                            sceneInstance.bet_btn_second.element.addEventListener('touchstart', blockAllButtons2);
                                                        }
                                                        
                                                        console.log('‚úÖ –ê–ì–†–ï–°–°–ò–í–ù–´–ï –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ bet_btn_second');
                                                        
                                                        const originalBetClick2 = sceneInstance.onBetButtonClick;
                                                        sceneInstance.onBetButtonClick = function(buttonId) {
                                                            console.log('üé≤ –°—Ç–∞–≤–∫–∞ 2:', buttonId);
                                                            
                                                            // –°–ù–ê–ß–ê–õ–ê –í–´–ó–´–í–ê–ï–ú –û–†–ò–ì–ò–ù–ê–õ–¨–ù–£–Æ –§–£–ù–ö–¶–ò–Æ
                                                            if (originalBetClick2) {
                                                                console.log('üîÑ –í—ã–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é onBetButtonClick –°–ù–ê–ß–ê–õ–ê');
                                                                const result = originalBetClick2.call(this, buttonId);
                                                                
                                                                // –ü–û–¢–û–ú –ë–õ–û–ö–ò–†–£–ï–ú –ö–ù–û–ü–ö–ò –° –ó–ê–î–ï–†–ñ–ö–û–ô
                                                                setTimeout(() => {
                                                                    console.log('üîí –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –ü–û–°–õ–ï –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏...');
                                                                    sceneInstance.__betButtonsBlocked = true;
                                                                    
                                                                    // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É BET –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ
                                                                    if (sceneInstance.bet_btn_second) {
                                                                        sceneInstance.bet_btn_second.updateButtonState(false);
                                                                        console.log('üîí bet_btn_second –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞');
                                                                    }
                                                                    
                                                                    // –ë–ª–æ–∫–∏—Ä—É–µ–º –ø–∞–Ω–µ–ª—å –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ
                                                                    if (sceneInstance.disablePanelSecondBetPanel) {
                                                                        sceneInstance.disablePanelSecondBetPanel();
                                                                        console.log('üîí disablePanelSecondBetPanel –≤—ã–∑–≤–∞–Ω');
                                                                    }
                                                                    
                                                                    // –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–ê–Ø –ë–õ–û–ö–ò–†–û–í–ö–ê –í–°–ï–• –ö–ù–û–ü–û–ö
                                                                    const allButtons = [
                                                                        'first_bet_button', 'second_bet_button', 'third_bet_button', 'fourth_bet_button',
                                                                        'first_bet_button_2', 'second_bet_button_2', 'third_bet_button_2', 'fourth_bet_button_2',
                                                                        'plus_button', 'minus_button', 'plus_button_2', 'minus_button_2',
                                                                        'bet_plus_btn', 'bet_minus_btn', 'bet_plus_btn_2', 'bet_minus_btn_2',
                                                                        'autoCashOutToggle1', 'autoCashOutToggle2',
                                                                        'bet_btn_first', 'bet_btn_second'
                                                                    ];
                                                                    
                                                                    allButtons.forEach(buttonName => {
                                                                        if (sceneInstance[buttonName]) {
                                                                            sceneInstance[buttonName].interactive = false;
                                                                            // –î–µ–ª–∞–µ–º –∫–Ω–æ–ø–∫–∏ —Å–µ—Ä—ã–º–∏, –∞ –Ω–µ –±–µ—Å—Ü–≤–µ—Ç–Ω—ã–º–∏
                                                                            sceneInstance[buttonName].tint = 0x808080; // –°–µ—Ä—ã–π —Ü–≤–µ—Ç
                                                                            sceneInstance[buttonName].alpha = 1.0; // –ü–æ–ª–Ω–∞—è –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
                                                                            console.log(`üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ ${buttonName} (—Å–µ—Ä—ã–π —Ü–≤–µ—Ç)`);
                                                                        }
                                                                    });
                                                                    
                                                                    console.log('üîí –í–°–ï –ö–ù–û–ü–ö–ò –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–´ –ü–û–°–õ–ï –û–†–ò–ì–ò–ù–ê–õ–¨–ù–û–ô –§–£–ù–ö–¶–ò–ò!');
                                                                }, 100); // –ó–∞–¥–µ—Ä–∂–∫–∞ 100–º—Å
                                                                
                                                                return result;
                                                            } else {
                                                                console.log('‚ùå –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è onBetButtonClick –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Å—Ç–∞–≤–æ–∫ –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏ —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
                                                            if (sceneInstance.first_bet_button_2) {
                                                                sceneInstance.first_bet_button_2.updateButtonState(false);
                                                                sceneInstance.first_bet_button_2.interactive = false;
                                                                sceneInstance.first_bet_button_2.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ first_bet_button_2');
                                                            }
                                                            if (sceneInstance.second_bet_button_2) {
                                                                sceneInstance.second_bet_button_2.updateButtonState(false);
                                                                sceneInstance.second_bet_button_2.interactive = false;
                                                                sceneInstance.second_bet_button_2.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ second_bet_button_2');
                                                            }
                                                            if (sceneInstance.third_bet_button_2) {
                                                                sceneInstance.third_bet_button_2.updateButtonState(false);
                                                                sceneInstance.third_bet_button_2.interactive = false;
                                                                sceneInstance.third_bet_button_2.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ third_bet_button_2');
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ +/- –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏
                                                            if (sceneInstance.plus_button_2) {
                                                                sceneInstance.plus_button_2.interactive = false;
                                                                sceneInstance.plus_button_2.alpha = 0.5;
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ plus_button_2');
                                                            }
                                                            if (sceneInstance.minus_button_2) {
                                                                sceneInstance.minus_button_2.interactive = false;
                                                                sceneInstance.minus_button_2.alpha = 0.5;
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ minus_button_2');
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏
                                                            if (sceneInstance.autoCashOutToggle2) {
                                                                sceneInstance.autoCashOutToggle2.interactive = false;
                                                                sceneInstance.autoCashOutToggle2.alpha = 0.5;
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω autoCashOutToggle2');
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω—É—é –∫–Ω–æ–ø–∫—É BET –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏
                                                            if (sceneInstance.bet_btn_second) {
                                                                sceneInstance.bet_btn_second.interactive = false;
                                                                sceneInstance.bet_btn_second.alpha = 0.5;
                                                                console.log('üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ bet_btn_second');
                                                            }
                                                            if (sceneInstance.fourth_bet_button_2) {
                                                                sceneInstance.fourth_bet_button_2.updateButtonState(false);
                                                                sceneInstance.fourth_bet_button_2.interactive = false;
                                                                sceneInstance.fourth_bet_button_2.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ +/- —Å—Ç–∞–≤–æ–∫ –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏ —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
                                                            if (sceneInstance.bet_minus_btn_2) {
                                                                sceneInstance.bet_minus_btn_2.updateButtonState(false);
                                                                sceneInstance.bet_minus_btn_2.interactive = false;
                                                                sceneInstance.bet_minus_btn_2.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                            }
                                                            if (sceneInstance.bet_plus_btn_2) {
                                                                sceneInstance.bet_plus_btn_2.updateButtonState(false);
                                                                sceneInstance.bet_plus_btn_2.interactive = false;
                                                                sceneInstance.bet_plus_btn_2.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç–∞ –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏ —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
                                                            if (sceneInstance.autoCashOutToggle2) {
                                                                sceneInstance.autoCashOutToggle2.interactive = false;
                                                                sceneInstance.autoCashOutToggle2.alpha = 0.3; // –î–µ–ª–∞–µ–º –æ—á–µ–Ω—å —Å–µ—Ä—ã–º–∏
                                                            }
                                                            
                                                            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É BET –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏
                                                            if (sceneInstance.bet_btn_second) {
                                                                sceneInstance.bet_btn_second.updateButtonState(false);
                                                                sceneInstance.bet_btn_second.interactive = false;
                                                                sceneInstance.bet_btn_second.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                            }
                                                            
                                                            console.log('‚úÖ –ö–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã');
                                                            
                                                            if (originalBetClick2) {
                                                                return originalBetClick2.call(this, buttonId);
                                                            }
                                                        };
                                                    }
                                                    
                                                    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∫–µ—à–∞—É—Ç–∞ (–æ—Ç–∫–ª—é—á–µ–Ω–æ)
                                                    // if (sceneInstance.cashout_btn_first) {
                                                    //     const originalCashoutClick1 = sceneInstance.onCashOutButtonClick;
                                                    //     sceneInstance.onCashOutButtonClick = function(buttonIds) {
                                                    //         console.log('üí∞ –ö–µ—à–∞—É—Ç 1:', buttonIds);
                                                    //         if (originalCashoutClick1) {
                                                    //             return originalCashoutClick1.call(this, buttonIds);
                                                    //         }
                                                    //     };
                                                    // }
                                                    
                                                    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è onInteraction (–≤–∫–ª—é—á–µ–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∫–µ—à–∞—É—Ç–∞)
                                                    const originalOnInteraction = sceneInstance.onInteraction;
                                                    sceneInstance.onInteraction = function(button, componentId) {
                                                        console.log('üñ±Ô∏è –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏:', componentId, 'button:', button);
                                                        console.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ componentId:', { componentId, isCashOutBtn: componentId && componentId.indexOf("cash_out_btn") >= 0, isBetBtn: componentId && componentId.indexOf("bet_btn") >= 0 });
                                                        
                                                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ—Ç –ª–∏ _layout –ø–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
                                                        if (componentId && sceneInstance._layout) {
                                                            const component = sceneInstance._layout.getComponent(componentId);
                                                            console.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ _layout.getComponent:', { componentId, component: component, componentExists: !!component, componentInteractive: component ? component.interactive : 'N/A' });
                                                        }
                                                        
                                                        if (originalOnInteraction) {
                                                            return originalOnInteraction.call(this, button, componentId);
                                                        }
                                                    };
                                                    
                                                    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è onCashOutButtonClick
                                                    const originalOnCashOutButtonClick = sceneInstance.onCashOutButtonClick;
                                                    sceneInstance.onCashOutButtonClick = async function(buttonIds) {
                                                        console.log('üí∞ onCashOutButtonClick –≤—ã–∑–≤–∞–Ω —Å:', buttonIds);
                                                        console.log('üí∞ –ü—Ä–æ–≤–µ—Ä—è–µ–º ApplicationBase:', window.DO && window.DO.Common && window.DO.Common.ApplicationBase);
                                                        console.log('üí∞ –ü—Ä–æ–≤–µ—Ä—è–µ–º __gameApp:', window.__gameApp);
                                                        console.log('üí∞ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞—É–Ω–¥–∞:', window.__ws && window.__ws.__roundState);
                                                        
                                                        if (originalOnCashOutButtonClick) {
                                                            console.log('üîÑ –í—ã–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π onCashOutButtonClick...');
                                                            try {
                                                                // –ó–∞—â–∏—â–∞–µ–º –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏—è - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–∞—É—Ç
                                                                const timeoutPromise = new Promise((_, reject) => {
                                                                    setTimeout(() => reject(new Error('Timeout')), 2000);
                                                                });
                                                                
                                                                const originalPromise = Promise.resolve(originalOnCashOutButtonClick.call(this, buttonIds));
                                                                
                                                                const result = await Promise.race([originalPromise, timeoutPromise]);
                                                            console.log('üí∞ onCashOutButtonClick –∑–∞–≤–µ—Ä—à–µ–Ω, —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', result);
                                                            } catch (error) {
                                                                console.log('‚ö†Ô∏è onCashOutButtonClick –∑–∞–≤–µ—Ä—à–µ–Ω —Å –æ—à–∏–±–∫–æ–π/—Ç–∞–π–º–∞—É—Ç–æ–º:', error.message);
                                                                // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–∂–µ –µ—Å–ª–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≤–∏—Å–ª–∞
                                                            }
                                                        }
                                                    };
                                                    
                                                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º componentId –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∫–µ—à–∞—É—Ç–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
                                                    if (sceneInstance.cashout_btn_first && !sceneInstance.cashout_btn_first.componentId) {
                                                        sceneInstance.cashout_btn_first.componentId = "cash_out_btn";
                                                        // console.log('üîß –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω componentId –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–µ—à–∞—É—Ç–∞ 1 –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', sceneInstance.cashout_btn_first.componentId);
                                                    }
                                                    
                                                    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è handleCommonDrawGameCashout
                                                    if (sceneInstance.handleCommonDrawGameCashout) {
                                                        const originalHandleCommonDrawGameCashout = sceneInstance.handleCommonDrawGameCashout;
                                                        sceneInstance.handleCommonDrawGameCashout = function(data) {
                                                            console.log('üí∞ handleCommonDrawGameCashout –≤—ã–∑–≤–∞–Ω —Å –¥–∞–Ω–Ω—ã–º–∏:', data);
                                                            console.log('üí∞ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö handleCommonDrawGameCashout:', JSON.stringify(data, null, 2));
                                                            
                                                            if (originalHandleCommonDrawGameCashout) {
                                                                console.log('üîÑ –í—ã–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π handleCommonDrawGameCashout...');
                                                                const result = originalHandleCommonDrawGameCashout.call(this, data);
                                                                console.log('üí∞ handleCommonDrawGameCashout –∑–∞–≤–µ—Ä—à–µ–Ω, —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', result);
                                                                return result;
                                                            }
                                                        };
                                                        console.log('üîß handleCommonDrawGameCashout –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è');
                                                    }
                                                    if (sceneInstance.cashout_btn_second && !sceneInstance.cashout_btn_second.componentId) {
                                                        sceneInstance.cashout_btn_second.componentId = "cash_out_btn_2";
                                                        // console.log('üîß –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω componentId –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–µ—à–∞—É—Ç–∞ 2 –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', sceneInstance.cashout_btn_second.componentId);
                                                    }
                                                    
                                                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –ª–∏ –∫–Ω–æ–ø–∫–∏ –∫–µ—à–∞—É—Ç–∞ –≤ _layout (–æ—Ç–∫–ª—é—á–µ–Ω–æ)
                                                    // if (sceneInstance._layout) {
                                                    //     const layoutCashout1 = sceneInstance._layout.getComponent("cash_out_btn");
                                                    //     const layoutCashout2 = sceneInstance._layout.getComponent("cash_out_btn_2");
                                                    //     console.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ _layout –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∫–µ—à–∞—É—Ç–∞:', { layoutCashout1: !!layoutCashout1, layoutCashout2: !!layoutCashout2, cashout1Same: layoutCashout1 === sceneInstance.cashout_btn_first, cashout2Same: layoutCashout2 === sceneInstance.cashout_btn_second });
                                                    // }
                                                    
                                                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –∫–µ—à–∞—É—Ç–∞ (–æ—Ç–∫–ª—é—á–µ–Ω–æ)
                                                    // console.log('üîç –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –∫–µ—à–∞—É—Ç–∞:', { cashout_btn_first: sceneInstance.cashout_btn_first ? { visible: sceneInstance.cashout_btn_first.visible, interactive: sceneInstance.cashout_btn_first.interactive, buttonMode: sceneInstance.cashout_btn_first.buttonMode, componentId: sceneInstance.cashout_btn_first.componentId || '–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω' } : '–Ω–µ –Ω–∞–π–¥–µ–Ω–∞', cashout_btn_second: sceneInstance.cashout_btn_second ? { visible: sceneInstance.cashout_btn_second.visible, interactive: sceneInstance.cashout_btn_second.interactive, buttonMode: sceneInstance.cashout_btn_second.buttonMode, componentId: sceneInstance.cashout_btn_second.componentId || '–Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω' } : '–Ω–µ –Ω–∞–π–¥–µ–Ω–∞' });
                                                    
                                                    // if (sceneInstance.cashout_btn_second) {
                                                    //     const originalCashoutClick2 = sceneInstance.onCashOutButtonClick;
                                                    //     sceneInstance.onCashOutButtonClick = function(buttonIds) {
                                                    //         console.log('üí∞ –ö–µ—à–∞—É—Ç 2:', buttonIds);
                                                    //         if (originalCashoutClick2) {
                                                    //             return originalCashoutClick2.call(this, buttonIds);
                                                    //         }
                                                    //     };
                                                    // }
                                                    
                                                    console.log('üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ');
                                                }
                                            }
                                        };
                                        
                                        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
                                        setTimeout(addButtonLogging, 2000);
                                        setTimeout(addButtonLogging, 5000);
                                        setTimeout(addButtonLogging, 10000);
                                        setTimeout(addButtonLogging, 15000);
                                        
                                        // –¢–∞–∫–∂–µ –≤—ã–∑—ã–≤–∞–µ–º —Å—Ä–∞–∑—É
                                        addButtonLogging();
                                    
                                    // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ —Å—Ç–∞–≤–∫–∏
                                    // –õ–æ–≥–∏—Ä—É–µ–º –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Å—Ç–∞–≤–æ–∫
                                    console.log('üîç –ò—â–µ–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Å—Ç–∞–≤–æ–∫...');
                                    if (window.DO && window.DO.Common && window.DO.Common.Server) {
                                        console.log('üîç –í—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ DO.Common.Server:', Object.keys(window.DO.Common.Server));
                                        // –ò—â–µ–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å ENTER –∏ CASHOUT
                                        const serverKeys = Object.keys(window.DO.Common.Server);
                                        const enterKeys = serverKeys.filter(key => key.includes('ENTER') || key.includes('enter'));
                                        const cashoutKeys = serverKeys.filter(key => key.includes('CASHOUT') || key.includes('cashout'));
                                        console.log('üîç ENTER –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:', enterKeys);
                                        console.log('üîç CASHOUT –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã:', cashoutKeys);
                                    }
                                    
                                    window.__gameApp.on('SEND_ENTER_COMMON_DRAW_REQUEST', (data) => {
                                        console.log('üé≤ –ü–æ–ª—É—á–µ–Ω–∞ —Å—Ç–∞–≤–∫–∞:', data);
                                        
                                        // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—Ç–∞–≤–∫–∏
                                        setTimeout(() => {
                                            if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                if (sceneInstance) {
                                                    console.log('üîí –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—Ç–∞–≤–∫–∏...');
                                                    sceneInstance.__betButtonsBlocked = true;
                                                    
                                                    // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Å—Ç–∞–≤–æ–∫ —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
                                                    if (sceneInstance.first_bet_button) {
                                                        sceneInstance.first_bet_button.updateButtonState(false);
                                                        sceneInstance.first_bet_button.interactive = false;
                                                        sceneInstance.first_bet_button.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                    }
                                                    if (sceneInstance.second_bet_button) {
                                                        sceneInstance.second_bet_button.updateButtonState(false);
                                                        sceneInstance.second_bet_button.interactive = false;
                                                        sceneInstance.second_bet_button.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                    }
                                                    if (sceneInstance.third_bet_button) {
                                                        sceneInstance.third_bet_button.updateButtonState(false);
                                                        sceneInstance.third_bet_button.interactive = false;
                                                        sceneInstance.third_bet_button.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                    }
                                                    if (sceneInstance.fourth_bet_button) {
                                                        sceneInstance.fourth_bet_button.updateButtonState(false);
                                                        sceneInstance.fourth_bet_button.interactive = false;
                                                        sceneInstance.fourth_bet_button.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                    }
                                                    
                                                    // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ +/- —Å—Ç–∞–≤–æ–∫ —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
                                                    if (sceneInstance.bet_minus_btn) {
                                                        sceneInstance.bet_minus_btn.updateButtonState(false);
                                                        sceneInstance.bet_minus_btn.interactive = false;
                                                        sceneInstance.bet_minus_btn.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                    }
                                                    if (sceneInstance.bet_plus_btn) {
                                                        sceneInstance.bet_plus_btn.updateButtonState(false);
                                                        sceneInstance.bet_plus_btn.interactive = false;
                                                        sceneInstance.bet_plus_btn.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                    }
                                                    
                                                    // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –∞–≤—Ç–æ–∫–µ—à–∞—É—Ç–∞ —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
                                                    if (sceneInstance.autoCashOutToggle1) {
                                                        sceneInstance.autoCashOutToggle1.interactive = false;
                                                        sceneInstance.autoCashOutToggle1.alpha = 0.3; // –î–µ–ª–∞–µ–º –æ—á–µ–Ω—å —Å–µ—Ä—ã–º–∏
                                                    }
                                                    
                                                    // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É BET
                                                    if (sceneInstance.bet_btn_first) {
                                                        sceneInstance.bet_btn_first.updateButtonState(false);
                                                        sceneInstance.bet_btn_first.interactive = false;
                                                        sceneInstance.bet_btn_first.alpha = 0.5; // –î–µ–ª–∞–µ–º —Å–µ—Ä—ã–º–∏
                                                    }
                                                    
                                                    console.log('‚úÖ –ö–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—Ç–∞–≤–∫–∏');
                                                }
                                            }
                                        }, 100);
                                        
                                        // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞—É–Ω–¥–∞ –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç–∞–≤–∫–∏
                                        if (ws.__roundState) {
                                            ws.__roundState.phase = 'open'; // –°–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                            ws.__roundState.countdownTime = 10;
                                            ws.__roundState.multiplier = 1.00;
                                            ws.__roundState.maxMultiplier = 0;
                                            ws.__roundState.endTimer = false;
                                            ws.__roundState.crashAnimationTime = 0;
                                            ws.__roundState.roundId = 'offline_round_' + Date.now();
                                            
                                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞
                                if (ws.__roundState) {
                                    ws.__roundState.cashoutExecuted = false;
                                    console.log('üîÑ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å–±—Ä–æ—à–µ–Ω –≤ WebSocket –º–æ–∫–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—Ç–∞–≤–∫–∏');
                                }
                                
                                if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                    const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                    if (sceneInstance) {
                                        sceneInstance.__cashoutExecuted = false;
                                        sceneInstance.__betButtonsBlocked = false;
                                        console.log('üîÑ –§–ª–∞–≥–∏ –∫–µ—à–∞—É—Ç–∞ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–±—Ä–æ—à–µ–Ω—ã –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞');
                                        
                                        // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
                                        if (ws.__roundState) {
                                            ws.__roundState.cashoutExecuted = false;
                                        }
                                        
                                        // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ —Å–±—Ä–æ—Å–µ
                                        if (sceneInstance.first_bet_button) {
                                            sceneInstance.first_bet_button.updateButtonState(true);
                                            sceneInstance.first_bet_button.interactive = true;
                                            sceneInstance.first_bet_button.alpha = 1.0;
                                        }
                                        if (sceneInstance.second_bet_button) {
                                            sceneInstance.second_bet_button.updateButtonState(true);
                                            sceneInstance.second_bet_button.interactive = true;
                                            sceneInstance.second_bet_button.alpha = 1.0;
                                        }
                                        if (sceneInstance.third_bet_button) {
                                            sceneInstance.third_bet_button.updateButtonState(true);
                                            sceneInstance.third_bet_button.interactive = true;
                                            sceneInstance.third_bet_button.alpha = 1.0;
                                        }
                                        if (sceneInstance.fourth_bet_button) {
                                            sceneInstance.fourth_bet_button.updateButtonState(true);
                                            sceneInstance.fourth_bet_button.interactive = true;
                                            sceneInstance.fourth_bet_button.alpha = 1.0;
                                        }
                                        
                                        if (sceneInstance.bet_minus_btn) {
                                            sceneInstance.bet_minus_btn.updateButtonState(true);
                                            sceneInstance.bet_minus_btn.interactive = true;
                                            sceneInstance.bet_minus_btn.alpha = 1.0;
                                        }
                                        if (sceneInstance.bet_plus_btn) {
                                            sceneInstance.bet_plus_btn.updateButtonState(true);
                                            sceneInstance.bet_plus_btn.interactive = true;
                                            sceneInstance.bet_plus_btn.alpha = 1.0;
                                        }
                                        
                                        if (sceneInstance.autoCashOutToggle1) {
                                            sceneInstance.autoCashOutToggle1.interactive = true;
                                            sceneInstance.autoCashOutToggle1.alpha = 1.0;
                                        }
                                        
                                        console.log('‚úÖ –í—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∏ —Å–±—Ä–æ—Å–µ —Ä–∞—É–Ω–¥–∞');
                                    }
                                }
                                            
                                            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
                                            if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                if (sceneInstance) {
                                                    sceneInstance.isFirstTimeLoad = true;
                                                    sceneInstance.loaderStarted = false;
                                                    sceneInstance.isRoundCounterStarted = false;
                                                    
                                                    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º betData –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
                                                    if (!sceneInstance.betData) {
                                                        sceneInstance.betData = { 
                                                            bet1: { stake: 0, autoCashOutMultiplier: 0 }, 
                                                            bet2: { stake: 0, autoCashOutMultiplier: 0 } 
                                                        };
                                                    }
                                                    
                                                    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–µ—à–∞—É—Ç–∞
                                                    if (sceneInstance.cash_out_btn_text) {
                                                        sceneInstance.cash_out_btn_text.visible = false;
                                                    }
                                                    if (sceneInstance.cash_out_btn_2_text) {
                                                        sceneInstance.cash_out_btn_2_text.visible = false;
                                                    }
                                                    
                                                    // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è BET
                                                    console.log('üîí –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫...');
                                                    sceneInstance.__betButtonsBlocked = true;
                                                    
                                                    // –ò–°–ü–û–õ–¨–ó–£–ï–ú –í–°–¢–†–û–ï–ù–ù–´–ï –§–£–ù–ö–¶–ò–ò –ë–õ–û–ö–ò–†–û–í–ö–ò
                                                    if (sceneInstance.disablePanelFirstBetPanel) {
                                                        sceneInstance.disablePanelFirstBetPanel();
                                                        console.log('üîí BET WebSocket: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–≤–æ–π –ø–∞–Ω–µ–ª–∏');
                                                    }
                                                    if (sceneInstance.disablePanelSecondBetPanel) {
                                                        sceneInstance.disablePanelSecondBetPanel();
                                                        console.log('üîí BET WebSocket: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—Ç–æ—Ä–æ–π –ø–∞–Ω–µ–ª–∏');
                                                    }
                                                    
                                                    // –ü—Ä—è–º–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ —Å—Ç–∞–≤–æ–∫
                                                    const buttonsToBlock = [
                                                        'first_bet_button', 'second_bet_button', 'third_bet_button', 'fourth_bet_button',
                                                        'first_bet_button_2', 'second_bet_button_2', 'third_bet_button_2', 'fourth_bet_button_2',
                                                        'plus_button', 'minus_button', 'plus_button_2', 'minus_button_2',
                                                        'bet_plus_btn', 'bet_minus_btn', 'bet_plus_btn_2', 'bet_minus_btn_2',
                                                        'autoCashOutToggle1', 'autoCashOutToggle2',
                                                        'bet_btn_first', 'bet_btn_second'
                                                    ];
                                                    
                                                    buttonsToBlock.forEach(buttonName => {
                                                        if (sceneInstance[buttonName]) {
                                                            if (sceneInstance[buttonName].updateButtonState) {
                                                                sceneInstance[buttonName].updateButtonState(false);
                                                            }
                                                            sceneInstance[buttonName].interactive = false;
                                                            sceneInstance[buttonName].alpha = 0.5;
                                                            console.log(`üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ ${buttonName}`);
                                                        }
                                                    });
                                                    
                                                    if (sceneInstance.disablePanelFirstBetPanel) {
                                                        sceneInstance.disablePanelFirstBetPanel();
                                                        console.log('üîí disablePanelFirstBetPanel –≤—ã–∑–≤–∞–Ω');
                                                    } else {
                                                        console.log('‚ùå disablePanelFirstBetPanel –Ω–µ –Ω–∞–π–¥–µ–Ω');
                                                    }
                                                    if (sceneInstance.disablePanelSecondBetPanel) {
                                                        sceneInstance.disablePanelSecondBetPanel();
                                                        console.log('üîí disablePanelSecondBetPanel –≤—ã–∑–≤–∞–Ω');
                                                    } else {
                                                        console.log('‚ùå disablePanelSecondBetPanel –Ω–µ –Ω–∞–π–¥–µ–Ω');
                                                    }
                                                    console.log('üîí –ö–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–æ–∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –ø–æ—Å–ª–µ BET');
                                                }
                                            }
                                            
                                            // –ß–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ waiting
                                            setTimeout(() => {
                                                ws.__roundState.phase = 'waiting';
                                                console.log('üïê –ù–∞—á–∏–Ω–∞–µ–º –æ—Ç—Å—á–µ—Ç –¥–æ –Ω–æ–≤–æ–≥–æ —Ä–∞—É–Ω–¥–∞...');
                                            }, 100);
                                        }
                                        
                                        // –°–∏–º—É–ª–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—É—é —Å—Ç–∞–≤–∫—É —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
                                        setTimeout(() => {
                                            if (window.__gameApp) {
                                                // –°–Ω–∞—á–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º 'open' –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                                                window.__gameApp.emit('gameInProgress', {
                                                    rounds: [{
                                                        id: ws.__roundState?.roundId || 'offline_round_' + Date.now(),
                                                        status: 'open',
                                                        currentMultiplier: 0,
                                                        maxMultiplier: 0,
                                                        timeToStartInSeconds: 0
                                                    }]
                                                });
                                                
                                                // –ó–∞—Ç–µ–º —á–µ—Ä–µ–∑ –∑–∞–¥–µ—Ä–∂–∫—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º 'getready'
                                                setTimeout(() => {
                                                    window.__gameApp.emit('gameInProgress', {
                                                        rounds: [{
                                                            id: ws.__roundState?.roundId || 'offline_round_' + Date.now(),
                                                            status: 'getready',
                                                            currentMultiplier: 1.00,
                                                            maxMultiplier: 0,
                                                            timeToStartInSeconds: 10
                                                        }]
                                                    });
                                                    console.log('üéØ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ getready –¥–ª—è UI –æ–∂–∏–¥–∞–Ω–∏—è');
                                                }, 50);
                                            }
                                        }, 100);
                                    });
                                    
                                    // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –∫–µ—à–∞—É—Ç–∞
                                    window.__gameApp.on('SEND_CASHOUT_COMMON_DRAW_REQUEST', (data) => {
                                        console.log('üí∞ –ü–æ–ª—É—á–µ–Ω –∑–∞–ø—Ä–æ—Å –∫–µ—à–∞—É—Ç–∞:', data);
                                        console.log('üí∞ Event listener: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∫–µ—à–∞—É—Ç–∞:', JSON.stringify(data, null, 2));
                                        console.log('üí∞ Event listener: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–µ—à–∞—É—Ç...');
                                        
                                        // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–µ—à–∞—É—Ç
                                        setTimeout(() => {
                                            if (ws.__roundState && ws.__roundState.phase === 'active') {
                                                const currentMultiplier = ws.__roundState.multiplier;
                                                const betTypes = data.betData?.bet || [];
                                                
                                                // –ü–æ–ª—É—á–∞–µ–º —Å—É–º–º—É —Å—Ç–∞–≤–∫–∏
                                                let totalBetAmount = 0;
                                                if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                    const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                    if (sceneInstance && sceneInstance.betData) {
                                                        if (betTypes.includes("bet1") && sceneInstance.betData.bet1) {
                                                            totalBetAmount += sceneInstance.betData.bet1.stake || 0;
                                                        }
                                                        if (betTypes.includes("bet2") && sceneInstance.betData.bet2) {
                                                            totalBetAmount += sceneInstance.betData.bet2.stake || 0;
                                                        }
                                                    }
                                                }
                                                
                                                const winAmount = Math.floor(currentMultiplier * totalBetAmount);
                                                
                                                // –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–∏–≥—Ä—ã—à –∫ —Ç–µ–∫—É—â–µ–º—É –±–∞–ª–∞–Ω—Å—É
                                                ws.__currentBalance += winAmount;
                                                
                                                console.log(`üí∞ –ö–µ—à-–∞—É—Ç: ${currentMultiplier.toFixed(2)}x, –≤—ã–∏–≥—Ä—ã—à: ${winAmount} —Ü–µ–Ω—Ç–æ–≤ (${(winAmount / 100).toFixed(2)} EUR), –Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: ${ws.__currentBalance} —Ü–µ–Ω—Ç–æ–≤ (${(ws.__currentBalance / 100).toFixed(2)} EUR)`);
                                                
                                                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –∫–µ—à–∞—É—Ç–∞
                                                const cashoutEventData = {
                                                    success: true,
                                                    action: 'cashoutCommonDraw',
                                                    balance: {
                                                        totalBalance: ws.__currentBalance,
                                                        currency: 'EUR',
                                                        currencyMultiplier: 100
                                                    },
                                                    result: {
                                                        win: winAmount,
                                                        multiplier: +currentMultiplier.toFixed(2),
                                                        cashedOut: true,
                                                        betAmount: totalBetAmount
                                                    },
                                                    betOption: {
                                                        bet1: betTypes.includes("bet1"),
                                                        bet2: betTypes.includes("bet2")
                                                    }
                                                };
                                                
                                                console.log('üí∞ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ RECEIVE_COMMON_DRAW_CASHOUT:', cashoutEventData);
                                                window.__gameApp.emit('RECEIVE_COMMON_DRAW_CASHOUT', cashoutEventData);
                                                
                                                // –í—ã–∑—ã–≤–∞–µ–º handleCommonDrawGameCashout –Ω–∞–ø—Ä—è–º—É—é
                                                if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                    const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                    console.log('üí∞ sceneInstance –¥–ª—è handleCommonDrawGameCashout:', sceneInstance);
                                                    console.log('üí∞ handleCommonDrawGameCashout —Ñ—É–Ω–∫—Ü–∏—è:', sceneInstance && sceneInstance.handleCommonDrawGameCashout);
                                                    
                                                    if (sceneInstance && sceneInstance.handleCommonDrawGameCashout) {
                                                        console.log('üí∞ –í—ã–∑—ã–≤–∞–µ–º handleCommonDrawGameCashout –Ω–∞–ø—Ä—è–º—É—é —Å –¥–∞–Ω–Ω—ã–º–∏:', cashoutEventData);
                                                        try {
                                                            const result = sceneInstance.handleCommonDrawGameCashout(cashoutEventData);
                                                            console.log('üí∞ handleCommonDrawGameCashout –≤–µ—Ä–Ω—É–ª:', result);
                                                        } catch (error) {
                                                            console.error('üí∞ –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ handleCommonDrawGameCashout:', error);
                                                        }
                                                    } else {
                                                        console.log('üí∞ handleCommonDrawGameCashout –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω!');
                                                        console.log('üí∞ –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã sceneInstance:', sceneInstance ? Object.getOwnPropertyNames(sceneInstance) : 'sceneInstance is null');
                                                    }
                                                } else {
                                                    console.log('üí∞ SceneManager –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è handleCommonDrawGameCashout');
                                                }
                                                
                                                // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ DOM
                                                console.log('üí∞ –ü—ã—Ç–∞–µ–º—Å—è –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ DOM...');
                                                const balanceElements = [
                                                    '#cp_balance',
                                                    '.balance',
                                                    '[data-balance]',
                                                    '.total-balance',
                                                    '#balance',
                                                    '.current-balance'
                                                ];
                                                
                                                let balanceUpdated = false;
                                                balanceElements.forEach(selector => {
                                                    const element = document.querySelector(selector);
                                                    if (element) {
                                                        const newBalance = (ws.__currentBalance / 100).toFixed(2);
                                                        element.textContent = newBalance;
                                                        console.log(`üí∞ –û–±–Ω–æ–≤–ª–µ–Ω –±–∞–ª–∞–Ω—Å –≤ ${selector}: ${newBalance}`);
                                                        balanceUpdated = true;
                                                    }
                                                });
                                                
                                                if (!balanceUpdated) {
                                                    console.log('üí∞ –ù–µ –Ω–∞–π–¥–µ–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã –±–∞–ª–∞–Ω—Å–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è');
                                                    console.log('üí∞ –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–º "balance":', 
                                                        Array.from(document.querySelectorAll('*')).filter(el => 
                                                            el.textContent && el.textContent.toLowerCase().includes('balance')
                                                        ).map(el => ({ tag: el.tagName, text: el.textContent.trim().substring(0, 50) }))
                                                    );
                                                }
                                                
                                                // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–∫–∞–∑–∞—Ç—å WIN —á–µ—Ä–µ–∑ DOM
                                                console.log('üí∞ –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–∫–∞–∑–∞—Ç—å WIN —á–µ—Ä–µ–∑ DOM...');
                                                const winElements = [
                                                    '#cp_win',
                                                    '.win-popup',
                                                    '.win-message',
                                                    '[data-win]',
                                                    '.win-amount'
                                                ];
                                                
                                                let winShown = false;
                                                winElements.forEach(selector => {
                                                    const element = document.querySelector(selector);
                                                    if (element) {
                                                        const winAmountDisplay = (winAmount / 100).toFixed(2);
                                                        element.textContent = winAmountDisplay;
                                                        element.style.display = 'block';
                                                        element.style.visibility = 'visible';
                                                        console.log(`üí∞ –ü–æ–∫–∞–∑–∞–Ω WIN –≤ ${selector}: ${winAmountDisplay}`);
                                                        winShown = true;
                                                    }
                                                });
                                                
                                                if (!winShown) {
                                                    console.log('üí∞ –ù–µ –Ω–∞–π–¥–µ–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã WIN –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è');
                                                }
                                            }
                                        }, 100);
                                        
                                    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è RECEIVE_COMMON_DRAW_CASHOUT
                                    window.__gameApp.on('RECEIVE_COMMON_DRAW_CASHOUT', (data) => {
                                        console.log('üí∞ –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –∫–µ—à–∞—É—Ç–∞:', data);
                                        console.log('üí∞ Event listener: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç –∫–µ—à–∞—É—Ç–∞...');
                                        console.log('üí∞ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞ –∫–µ—à–∞—É—Ç–∞:', JSON.stringify(data, null, 2));
                                        
                                        // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å—Ä–∞–∑—É –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞
                                        if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                            const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                            if (sceneInstance) {
                                                console.log('üîÑ –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞');
                                                sceneInstance.__cashoutExecuted = false;
                                                console.log('‚úÖ –§–ª–∞–≥ –∫–µ—à–∞—É—Ç–∞ —Å–±—Ä–æ—à–µ–Ω –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞');
                                            }
                                        }
                                        
                                        // –í—ã–∑—ã–≤–∞–µ–º handleCommonDrawGameCashout –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
                                        if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                            const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                            console.log('üí∞ sceneInstance –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–∞ –∫–µ—à–∞—É—Ç–∞:', sceneInstance);
                                            if (sceneInstance && sceneInstance.handleCommonDrawGameCashout) {
                                                console.log('üí∞ –í—ã–∑—ã–≤–∞–µ–º handleCommonDrawGameCashout –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è');
                                                try {
                                                    sceneInstance.handleCommonDrawGameCashout(data);
                                                } catch (error) {
                                                    console.error('üí∞ –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ handleCommonDrawGameCashout –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞:', error);
                                                }
                                            }
                                        }
                                        
                                        // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º UI –¥–ª—è –∫–µ—à–∞—É—Ç–∞
                                        setTimeout(() => {
                                            if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                if (sceneInstance && data.result) {
                                                    // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å
                                                    if (data.balance && data.balance.total) {
                                                        console.log('üí∞ –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å:', data.balance.total);
                                                        // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ DOM
                                                        const balanceElements = [
                                                            '#cp_balance',
                                                            '.balance_amount',
                                                            '.balance-text',
                                                            '[data-balance]'
                                                        ];
                                                        
                                                        balanceElements.forEach(selector => {
                                                            const element = document.querySelector(selector);
                                                            if (element) {
                                                                element.textContent = data.balance.total.toFixed(2);
                                                                console.log(`üí∞ –û–±–Ω–æ–≤–ª–µ–Ω –±–∞–ª–∞–Ω—Å –≤ ${selector}:`, data.balance.total);
                                                            }
                                                        });
                                                    }
                                                    
                                                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º WIN
                                                    if (data.result.win && data.result.win > 0) {
                                                        console.log('üí∞ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º WIN:', data.result.win);
                                                        
                                                        // –û–±–Ω–æ–≤–ª—è–µ–º WIN —á–µ—Ä–µ–∑ DOM
                                                        const winElements = [
                                                            '#cp_win',
                                                            '.win_amount',
                                                            '.win-text',
                                                            '[data-win]'
                                                        ];
                                                        
                                                        winElements.forEach(selector => {
                                                            const element = document.querySelector(selector);
                                                            if (element) {
                                                                element.textContent = data.result.win.toFixed(2);
                                                                element.style.display = 'block';
                                                                element.style.visibility = 'visible';
                                                                console.log(`üí∞ –ü–æ–∫–∞–∑–∞–Ω WIN –≤ ${selector}:`, data.result.win);
                                                            }
                                                        });
                                                        
                                                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º WIN –≤ –∏–≥—Ä–µ
                                                        if (sceneInstance.showWinTextAnimation) {
                                                            try {
                                                                sceneInstance.showWinTextAnimation(data.result.win);
                                                                console.log('üí∞ –í—ã–∑–≤–∞–Ω showWinTextAnimation:', data.result.win);
                                                            } catch (error) {
                                                                console.error('üí∞ –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ showWinTextAnimation:', error);
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }, 100);
                                    });
                                        
                                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º betData –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                                        if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                            const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                            if (sceneInstance && (!sceneInstance.betData || !sceneInstance.betData.bet1 || !sceneInstance.betData.bet2)) {
                                                sceneInstance.betData = { 
                                                    bet1: { stake: 0, autoCashOutMultiplier: 0 }, 
                                                    bet2: { stake: 0, autoCashOutMultiplier: 0 } 
                                                };
                                                
                                                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–µ—à–∞—É—Ç–∞
                                                if (sceneInstance.cash_out_btn_text) {
                                                    sceneInstance.cash_out_btn_text.visible = false;
                                                }
                                                if (sceneInstance.cash_out_btn_2_text) {
                                                    sceneInstance.cash_out_btn_2_text.visible = false;
                                                }
                                                
                                                console.log('üîß –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω betData –¥–ª—è –∫–µ—à–∞—É—Ç–∞');
                                            }
                                        }
                                        
                                        // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ–º —Ç–µ–∫—É—â–∏–π —Ä–∞—É–Ω–¥
                                        if (ws.__roundState && ws.__roundState.phase === 'active') {
                                            ws.__roundState.phase = 'crash_animation';
                                            ws.__roundState.maxMultiplier = ws.__roundState.multiplier;
                                            ws.__roundState.crashAnimationTime = 0;
                                            console.log(`üí∞ –ö–µ—à–∞—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –Ω–∞ –º–Ω–æ–∂–∏—Ç–µ–ª–µ: ${ws.__roundState.multiplier.toFixed(2)}x`);
                                            
                                            // –°—Ä–∞–∑—É –≤—ã–∑—ã–≤–∞–µ–º onGameFinished –¥–ª—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ FELL OFF –ø—Ä–∏ –∫–µ—à–∞—É—Ç–µ
                                            setTimeout(() => {
                                                if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                    const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                    if (sceneInstance && sceneInstance.onGameFinished) {
                                                        // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã (—Å –∫–µ—à–∞—É—Ç–æ–º)
                                                        const gameFinishedEvent = {
                                                            isCashout: true, // –ö–µ—à–∞—É—Ç - —Å—Ç–∞–≤–∫–∏ –Ω–µ –≥–æ—Ä—è—Ç
                                                            result: {
                                                                result: {
                                                                    maxMultiplier: ws.__roundState.multiplier
                                                                }
                                                            }
                                                        };
                                                        
                                                        console.log('üí∞ –í—ã–∑—ã–≤–∞–µ–º onGameFinished –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ FELL OFF –ø—Ä–∏ –∫–µ—à–∞—É—Ç–µ');
                                                        sceneInstance.onGameFinished(gameFinishedEvent);
                                                    }
                                                }
                                            }, 50);
                                            
                                            // –î–æ–±–∞–≤–ª—è–µ–º –º–Ω–æ–∂–∏—Ç–µ–ª—å –≤ –∏—Å—Ç–æ—Ä–∏—é
                                            if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                                const sceneInstance = window.__gameRenderer.SceneManager.getCurrentScene();
                                                if (sceneInstance && sceneInstance.historyText) {
                                                    const multiplierText = ws.__roundState.multiplier.toFixed(2) + "X";
                                                    sceneInstance.historyText.unshift(multiplierText);
                                                    if (sceneInstance.historyText.length > 6) {
                                                        sceneInstance.historyText.pop();
                                                    }
                                                    if (sceneInstance.writeHistory) {
                                                        sceneInstance.writeHistory();
                                                    }
                                                }
                                            }
                                        }
                                        
                                        // –°–∏–º—É–ª–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π –∫–µ—à–∞—É—Ç
                                        setTimeout(() => {
                                            if (window.__gameApp) {
                                                const currentMultiplier = ws.__roundState?.multiplier || 1.25;
                                                window.__gameApp.emit('gameInProgress', {
                                                    rounds: [{
                                                        id: ws.__roundState?.roundId || 'offline_round_' + Date.now(),
                                                        status: 'ended',
                                                        currentMultiplier: 0,
                                                        maxMultiplier: +currentMultiplier.toFixed(2),
                                                        timeToStartInSeconds: 0
                                                    }]
                                                });
                                                console.log('üí∞ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞—É–Ω–¥–∞ –ø–æ—Å–ª–µ –∫–µ—à–∞—É—Ç–∞');
                                            }
                                        }, 100);
                                    });
                                    
                                    console.log('‚úÖ –ü–µ—Ä–µ—Ö–≤–∞—Ç –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω');
                                }
                            }
                        
                        // –ò—â–µ–º —Å—Ü–µ–Ω—É –∏–≥—Ä—ã
                        if (window.DO && window.DO.Core && window.DO.Core.Renderer) {
                            console.log('‚úÖ –ù–∞–π–¥–µ–Ω DO.Core.Renderer');
                            window.__gameRenderer = window.DO.Core.Renderer;
                        }
                        
                        // –ü—ã—Ç–∞–µ–º—Å—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä—É –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
                        setTimeout(() => {
                            console.log('üîß –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∏–≥—Ä—ã...');
                            
                            // –ò—â–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∏–≥—Ä—ã –≤ DOM
                            const gameWrapper = document.getElementById('game_wrapper');
                            if (gameWrapper) {
                                console.log('‚úÖ –ù–∞–π–¥–µ–Ω game_wrapper');
                                
                                // –ö–ª–∏–∫–∞–µ–º –≤ –∏–≥—Ä—É –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
                                const clickEvent = new MouseEvent('click', {
                                    view: window,
                                    bubbles: true,
                                    cancelable: true
                                });
                                gameWrapper.dispatchEvent(clickEvent);
                                console.log('üëÜ –°–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω –∫–ª–∏–∫ –≤ –∏–≥—Ä—É');
                            }
                            
                            // –ò—â–µ–º canvas —ç–ª–µ–º–µ–Ω—Ç—ã
                            const canvases = document.querySelectorAll('canvas');
                            if (canvases.length > 0) {
                                console.log(`‚úÖ –ù–∞–π–¥–µ–Ω–æ ${canvases.length} canvas —ç–ª–µ–º–µ–Ω—Ç–æ–≤`);
                                canvases.forEach((canvas, index) => {
                                    console.log(`Canvas ${index}: ${canvas.width}x${canvas.height}`);
                                    
                                    // –ö–ª–∏–∫–∞–µ–º –≤ –∫–∞–∂–¥—ã–π canvas –¥–ª—è –ø–æ–ª–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
                                    const clickEvent = new MouseEvent('click', {
                                        view: window,
                                        bubbles: true,
                                        cancelable: true
                                    });
                                    canvas.dispatchEvent(clickEvent);
                                });
                            }
                            
                            // –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π
                            window.__animationState = {
                                currentPhase: 'idle', // idle, rising, crashed
                                spineAnimations: [],
                                lastPhaseChange: Date.now()
                            };
                            
                            // –î–æ–±–∞–≤–ª—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
                            window.__setAnimationPhase = function(phase) {
                                // –ó–∞—â–∏—Ç–∞ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Ñ–∞–∑–æ–π
                                const now = Date.now();
                                if (window.__animationState.currentPhase === phase && 
                                    (now - window.__animationState.lastPhaseChange) < 500) {
                                    return; // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –≤—ã–∑–æ–≤—ã —Ç–æ–π –∂–µ —Ñ–∞–∑—ã
                                }
                                
                                console.log(`üé¨ –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –Ω–∞ —Ñ–∞–∑—É: ${phase}`);
                                window.__animationState.currentPhase = phase;
                                window.__animationState.lastPhaseChange = now;
                                window.__restartBananaAnimation();
                            };
                            
                            // –î–æ–±–∞–≤–ª—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
                            window.__restartBananaAnimation = function() {
                                // –ó–∞—â–∏—Ç–∞ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
                                const now = Date.now();
                                if (window.__animationState.lastRestart && (now - window.__animationState.lastRestart) < 100) {
                                    return; // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –≤—ã–∑–æ–≤—ã —á–∞—â–µ —á–µ–º —Ä–∞–∑ –≤ 100–º—Å
                                }
                                window.__animationState.lastRestart = now;
                                
                                try {
                                    console.log('üçå –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –±–∞–Ω–∞–Ω–∞...');
                                    const currentPhase = window.__animationState.currentPhase;
                                    console.log(`üìç –¢–µ–∫—É—â–∞—è —Ñ–∞–∑–∞: ${currentPhase}`);
                                    
                                    // –ò—â–µ–º Spine –∞–Ω–∏–º–∞—Ü–∏–∏
                                    if (window.PIXI && window.PIXI.spine) {
                                        console.log('‚úÖ PIXI.spine –Ω–∞–π–¥–µ–Ω');
                                    }
                                    
                                    // –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –∏–≥—Ä–æ–≤—É—é —Å—Ü–µ–Ω—É
                                    if (window.__gameRenderer && window.__gameRenderer.SceneManager) {
                                        const currentScene = window.__gameRenderer.SceneManager.getCurrentScene();
                                        if (currentScene) {
                                            console.log('‚úÖ –ù–∞–π–¥–µ–Ω–∞ —Ç–µ–∫—É—â–∞—è —Å—Ü–µ–Ω–∞:', currentScene.constructor.name);
                                            
                                            // –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –±–∞–Ω–∞–Ω–∞
                                            if (currentScene.children) {
                                                const findAndControlSpineAnimations = (container, depth = 0) => {
                                                    if (depth > 5) return; // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –≥–ª—É–±–∏–Ω—É –ø–æ–∏—Å–∫–∞
                                                    
                                                    container.children?.forEach((child, index) => {
                                                        // –ë–æ–ª–µ–µ —Ç–æ—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ Spine –∞–Ω–∏–º–∞—Ü–∏—é
                                                        if (child.skeleton && child.state && typeof child.state.setAnimation === 'function') {
                                                            console.log(`üé≠ –ù–∞–π–¥–µ–Ω–∞ Spine –∞–Ω–∏–º–∞—Ü–∏—è ${index} (–≥–ª—É–±–∏–Ω–∞ ${depth})`);
                                                            
                                                            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—é
                                                            if (!window.__animationState.spineAnimations.includes(child)) {
                                                                window.__animationState.spineAnimations.push(child);
                                                            }
                                                            
                                                            try {
                                                                // –ú–ò–ù–ò–ú–ê–õ–¨–ù–û–ï –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ - —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                                                                // –ù–ï –æ—á–∏—â–∞–µ–º —Ç—Ä–µ–∫–∏ - —ç—Ç–æ –º–æ–∂–µ—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å transform
                                                                // –ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ - —ç—Ç–æ –º–æ–∂–µ—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å –∫–æ—Å—Ç–∏
                                                                
                                                                // –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π
                                                                let availableAnimations = [];
                                                                if (child.skeleton && child.skeleton.data && child.skeleton.data.animations) {
                                                                    availableAnimations = child.skeleton.data.animations.map(anim => anim.name);
                                                                    console.log(`üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏: ${availableAnimations.join(', ')}`);
                                                                }
                                                                
                                                                // –í—ã–±–∏—Ä–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–∞–∑—ã
                                                                let targetAnimation = null;
                                                                
                                                if (currentPhase === 'rising') {
                                                    // –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Ä–æ—Å—Ç–∞ –º–Ω–æ–∂–∏—Ç–µ–ª—è - —Å–Ω–∞—á–∞–ª–∞ transition (–ø—Ä—ã–∂–æ–∫), –ø–æ—Ç–æ–º multiply
                                                    const risingAnimations = [
                                                        'banana_bonanza_landscape_transition', 'transition', 'jump', 'rise',
                                                        'banana_bonanza_landscape_multiply', 'multiply', 'up', 
                                                        'banana_up', 'banana_rise', 'animation', 'default'
                                                    ];
                                                    targetAnimation = risingAnimations.find(name => availableAnimations.includes(name));
                                                                } else if (currentPhase === 'crashed') {
                                                                    // –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫—Ä–∞—à–∞
                                                                    const crashAnimations = [
                                                                        'banana_bonanza_landscape_crash_and_fall', 'crash', 'fall', 
                                                                        'down', 'banana_fall', 'banana_crash', 'end'
                                                                    ];
                                                                    targetAnimation = crashAnimations.find(name => availableAnimations.includes(name));
                                                                } else {
                                                                    // –î–µ—Ñ–æ–ª—Ç–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
                                                                    const defaultAnimations = [
                                                                        'banana_bonanza_landscape_idle', 'idle', 'animation', 'default'
                                                                    ];
                                                                    targetAnimation = defaultAnimations.find(name => availableAnimations.includes(name));
                                                                }
                                                                
                                                                // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –ø–æ–¥—Ö–æ–¥—è—â—É—é –∞–Ω–∏–º–∞—Ü–∏—é, –±–µ—Ä–µ–º –ø–µ—Ä–≤—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é
                                                                if (!targetAnimation && availableAnimations.length > 0) {
                                                                    targetAnimation = availableAnimations[0];
                                                                }
                                                                
                                                                if (targetAnimation) {
                                                                    const loop = currentPhase === 'rising'; // –ó–∞—Ü–∏–∫–ª–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∞–Ω–∏–º–∞—Ü–∏—é —Ä–æ—Å—Ç–∞
                                                                    
                                                                    // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
                                                                    setTimeout(() => {
                                                                        try {
                                                                            // –¢–û–õ–¨–ö–û –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ - –Ω–∏–∫–∞–∫–∏—Ö –¥—Ä—É–≥–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π!
                                                                            if (currentPhase === 'rising' && targetAnimation === 'banana_bonanza_landscape_transition') {
                                                                                // –°–Ω–∞—á–∞–ª–∞ –∏–≥—Ä–∞–µ–º transition (–ø—Ä—ã–∂–æ–∫ –Ω–∞ –ø–æ–ª–∫—É), –ø–æ—Ç–æ–º multiply (–≤–∑–±–∏—Ä–∞–Ω–∏–µ)
                                                                                child.state.setAnimation(0, targetAnimation, false); // –ù–ï –∑–∞—Ü–∏–∫–ª–∏–≤–∞–µ–º transition
                                                                                console.log(`üîÑ –ó–∞–ø—É—â–µ–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ "${targetAnimation}"`);
                                                                                
                                                                                // –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è transition –∑–∞–ø—É—Å–∫–∞–µ–º multiply
                                                                                setTimeout(() => {
                                                                                    try {
                                                                                        if (availableAnimations.includes('banana_bonanza_landscape_multiply')) {
                                                                                            child.state.setAnimation(0, 'banana_bonanza_landscape_multiply', true);
                                                                                            console.log(`üîÑ –ó–∞–ø—É—â–µ–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è –≤–∑–±–∏—Ä–∞–Ω–∏—è "banana_bonanza_landscape_multiply" (–∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–∞—è)`);
                                                                                        }
                                                                                    } catch (e) {
                                                                                        console.log(`‚ö†Ô∏è –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ multiply –∞–Ω–∏–º–∞—Ü–∏–∏:`, e);
                                                                                    }
                                                                                }, 1000); // 1 —Å–µ–∫—É–Ω–¥–∞ –Ω–∞ transition –∞–Ω–∏–º–∞—Ü–∏—é
                                                                            } else {
                                                                                // –û–±—ã—á–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö –∞–Ω–∏–º–∞—Ü–∏–π
                                                                                child.state.setAnimation(0, targetAnimation, loop);
                                                                                console.log(`üîÑ –ó–∞–ø—É—â–µ–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è "${targetAnimation}" (–∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–∞—è: ${loop})`);
                                                                            }
                                                                        } catch (e) {
                                                                            console.log(`‚ö†Ô∏è –û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ "${targetAnimation}":`, e);
                                                                        }
                                                                        
                                                                    }, 50);
                                                                } else {
                                                                    console.log('‚ö†Ô∏è –ù–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∞–Ω–∏–º–∞—Ü–∏–π');
                                                                }
                                                                
                                                                // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
                                                                if (child.update) {
                                                                    child.update(0.016); // 60 FPS
                                                                }
                                                                
                                                            } catch (error) {
                                                                console.log(`‚ö†Ô∏è –û—à–∏–±–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–µ–π ${index}:`, error);
                                                            }
                                                        }
                                                        
                                                        // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏—â–µ–º –≤ –¥–æ—á–µ—Ä–Ω–∏—Ö –æ–±—ä–µ–∫—Ç–∞—Ö
                                                        if (child.children && child.children.length > 0) {
                                                            findAndControlSpineAnimations(child, depth + 1);
                                                        }
                                                    });
                                                };
                                                
                                                findAndControlSpineAnimations(currentScene);
                                            }
                                        }
                                    }
                                    
                                    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
                                    setTimeout(() => {
                                        // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö canvas
                                        const canvases = document.querySelectorAll('canvas');
                                        canvases.forEach(canvas => {
                                            if (canvas.getContext) {
                                                const ctx = canvas.getContext('2d');
                                                if (ctx) {
                                                    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞
                                                    ctx.save();
                                                    ctx.restore();
                                                }
                                            }
                                        });
                                        
                                        // –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ PIXI Application
                                        if (window.PIXI && window.PIXI.Application) {
                                            console.log('üé® –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ PIXI.Application');
                                        }
                                        
                                        // –ü–æ–∏—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–π —á–µ—Ä–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
                                        if (window.DO && window.DO.RendererScenes) {
                                            console.log('üîç –ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ DO.RendererScenes...');
                                            Object.keys(window.DO.RendererScenes).forEach(key => {
                                                console.log(`–ù–∞–π–¥–µ–Ω–∞ —Å—Ü–µ–Ω–∞: ${key}`);
                                            });
                                        }
                                        
                                    }, 500);
                                    
                                } catch (error) {
                                    console.log('‚ùå –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –±–∞–Ω–∞–Ω–∞:', error);
                                }
                            };
                        }, 3000);
                    }, 2000);
                }, 5000);
            })();
            
            function loadGame() {
                let app = new DO.App();
                app.hoelleConnector = {
                    OI:OperatorInterface,
                    RLX: {
                        on: on,
                        send: send,
                        configure:configure
                    }
                };
                app.init();
            }
        </script>

        <script src="../common/lib/hoelle/rlxfeim.js?v=1.0.0"></script>
        <script src="../common/lib/hoelle/operatorInterface.js?v=1.0.0"></script>
        <script src="../common/lib/jquery-1.11.3.min.js?v=1.0.0"></script>
        <script src="../common/lib/pixi.min.js?v=1.0.0"></script>
        <script src="../common/lib/pixi-spine.js?v=1.0.0"></script>
        <script src="../common/lib/howler.min.js?v=1.0.0"></script>
        <script src="../common/lib/TweenLite.min.js?v=1.0.0"></script>
        <script src="../common/lib/EasePack.min.js?v=1.0.0"></script>
        <script src="../common/lib/TimelineLite.min.js?v=1.0.0"></script>
        <script src="../common/lib/TweenMax.min.js?v=1.0.0"></script>
        <script src="../common/lib/screenfull.js?v=1.0.0"></script>
        <script src="../common/lib/webfont.min.js?v=1.0.0"></script>
        <script src="../common/lib/platform.js?v=1.0.0"></script>
        <script src="../common/lib/vex.js?v=1.0.0"></script>
        <script src="../common/lib/vex.dialog.js?v=1.0.0"></script>
        <script src="../common/lib/require.js?v=1.0.0"></script>
        <script src="../common/lib/iscoop-playzia-hoelle-1.0.0.js?v=1.0.0"></script>
        <script src="./src/app.js?v=1.0.0"></script>

    </body>

</html>